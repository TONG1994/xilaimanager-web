webpackJsonp([0],{2024:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),a=r(i),l=n(11),s=n(77),c=r(s),d=n(32),u=r(d),f=n(23),p=r(f),m=n(2048),g=r(m),h=n(2075),y=r(h),b=n(13),v=n(15),A=n(14),E=n(2029),S=n(2027),k=n(2025),C=n(2026),w=a.default.createClass({displayName:"ADManagePage",getInitialState:function(){return{ADManageSet:{recordSet:"",errMsg:"",startPage:1,pageRow:10,optsObj:""},webManageADManageSet:{},loading:!1,ADManage:{},actionType:"retrieve",WebManageFlag:!1,axlCourierAppFlag:!1,typeSet1:""}},mixins:[b.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){var t=this;if(e.errMsg)return void this.setState({errMsg:e.errMsg,loading:!1});if("queryDevThree"===e.operation)this.setState({loading:!1,ADManageSet:Object.assign({},this.state.ADManageSet,e)});else if("query_tab"===e.operation){var n=e.recordSet||[],r=[];n.map(function(e){e.typeList&&r.push(e.typeList[0])});var o=r||[];this.setState({typeSet1:o,loading:!1})}else if("create"===e.operation){var i=e.recordSet.length-1;"0"==e.recordSet[i].isExistSensitiveWord&&this.handleQueryClick()}else"update"===e.operation?this.handleQueryClick():"remove"===e.operation?this.handleQueryClick():"queryDevThreeWebManage"===e.operation&&this.setState({webManageADManageSet:Object.assign({},this.state.webManageADManageSet,e)},function(){t.getFlag()})},handleQueryClick:function(){var e=this.filter?this.filter.getFilter():{},t={};e&&(this.setState({loading:!0}),k.retrieve(e,this.state.ADManageSet.startPage,this.state.ADManageSet.pageRow),k.webManageRetrieve(t,1))},getFlag:function(){var e=this.state.webManageADManageSet.recordSet||[],t=[],n=[],r=[],o=[];e.map(function(e){"WebManage"==e.typeID&&t.push(e)}),t.map(function(e){"1"==e.stateID&&n.push(e)}),n.length<10?this.setState({WebManageFlag:!1}):this.setState({WebManageFlag:!0}),e.map(function(e){"axlCourierApp"==e.typeID&&r.push(e)}),r.map(function(e){"1"==e.stateID&&o.push(e)}),o.length<10?this.setState({axlCourierAppFlag:!1}):this.setState({axlCourierAppFlag:!0})},componentDidMount:function(){this.mxgBox&&this.mxgBox.clear();var e=this.state.ADManageSet,t=u.default.getTableConf("ADManageTable");e.pageRow=!0!==t.page?0:t.pageRow,e.startPage=!0!==t.page?0:1,this.handleQueryClick()},onTableRefresh:function(e,t){t!=this.state.ADManageSet.pageRow&&(e=1),this.state.ADManageSet.startPage=e,this.state.ADManageSet.pageRow=t,this.handleQueryClick()},filterSearch:function(){this.state.ADManageSet.startPage=1,this.state.ADManageSet.pageRow=10,this.handleQueryClick()},resetFilter:function(){var e=this;this.filter.setState({filter:{typeID:"",type:"",stateID:"",state:""}},function(){e.state.ADManageSet.startPage=1,e.state.ADManageSet.pageRow=10,e.handleQueryClick()})},onClickCreate:function(){var e=this;this.setState({actionType:"create"},function(){e.newWindow.addData()})},onClickUpdate:function(e){var t=this;this.setState({actionType:"edit"},function(){t.newWindow.initEditData(e)})},onClickCheck:function(e){var t=this;this.setState({actionType:"check"},function(){t.newWindow.initEditData(e)})},onClickDelete:function(e){var t=this;l.Modal.confirm({title:"删除确认",content:"是否确定删除 【"+e.title+"】？",okText:"确定",cancelText:"取消",onOk:function(){t.setState({loading:!0}),k.delete(e.uuid)}})},onClickOffLine:function(e){var t=this;l.Modal.confirm({title:"下线确认",content:"是否确定下线 【"+e.title+"】？",okText:"确定",cancelText:"取消",onOk:function(){t.setState({loading:!0});var n=A.deepCopyValue(e);n.downTime=E.getNowFormatDate(),n.state="已失效",n.stateID="2",k.update(n,"offline")}})},goBack:function(){this.setState({actionType:"retrieve"}),this.handleQueryClick()},render:function(){var e=this,t=this.state.ADManageSet.recordSet,n=[a.default.createElement(l.Button,{icon:v.iconSearch,title:"查询",type:"primary",onClick:this.filterSearch,key:"查询"},"查询"),a.default.createElement(l.Button,{icon:v.iconAdd,title:"新建",onClick:this.onClickCreate,className:"btn-margin",key:"新建"},"新建"),a.default.createElement(l.Button,{icon:v.iconReset,title:"重置",onClick:this.resetFilter,className:"btn-margin",key:"重置"},"重置")],r={title:"操作",key:"action",width:300,render:function(t,n){return a.default.createElement("span",null,"0"===n.stateID?a.default.createElement("span",null,a.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,n),title:"修改",className:"btn-margin"},a.default.createElement(l.Button,null,"修改")),a.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,n),title:"删除",className:"btn-margin"},a.default.createElement(l.Button,{type:"danger"},"删除"))):"","1"===n.stateID?a.default.createElement("a",{href:"#",onClick:e.onClickCheck.bind(e,n),title:"查看",className:"btn-margin"},a.default.createElement(l.Button,null,"查看")):"","axlMessCenter"!=n.typeID&&"1"===n.stateID?a.default.createElement("a",{href:"#",onClick:e.onClickOffLine.bind(e,n),title:"下线",className:"btn-margin"},a.default.createElement(l.Button,null,"下线")):"","2"===n.stateID?a.default.createElement("a",{href:"#",onClick:e.onClickCheck.bind(e,n),title:"查看",className:"btn-margin"},a.default.createElement(l.Button,null,"查看")):"")}},i={self:this,tableName:"ADManageTable",primaryKey:"uuid",fixedTool:!1,buttons:n,btnPosition:"top",operCol:r,tableForm:C,editCol:!1,editTable:!1,defView:"ADManageTable",totalPage:this.state.ADManageSet.totalRow,currentPage:this.state.ADManageSet.startPage,onRefresh:this.onTableRefresh},s=this.state.actionType,d=this.state.typeSet1,u=this.state.WebManageFlag,f=this.state.axlCourierAppFlag,m=this.filter?this.filter.state.typeSet:[],h={actionType:s,goBack:this.goBack,typeSet:m,typeSet1:d,WebManageFlag:u,axlCourierAppFlag:f};return a.default.createElement("div",{className:"grid-page"},a.default.createElement(p.default,{ref:function(t){return e.mxgBox=t},svcList:["advertisement/queryDevThree","advertisement/query_tab","advertisement/remove","advertisement/create","advertisement/update","advertisement/upload"]}),"retrieve"===s?a.default.createElement("div",null,a.default.createElement(y.default,{ref:function(t){return e.filter=t}}),a.default.createElement(c.default,{dataSource:t,loading:this.state.loading,attrs:i})):a.default.createElement("div",{style:{paddingLeft:20}},a.default.createElement(g.default,o({ref:function(t){return e.newWindow=t}},h))))}});e.exports=w},2025:function(e,t,n){"use strict";var r=n(13),o=r.createActions(["retrieve","webManageRetrieve","create","update","delete","offline","getSelectOptions","push","getOrgsByCitys"]);e.exports=o},2026:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),l=r(a),s=n(11),c=n(32),d=r(c),u=n(2051),f=r(u),p=s.Form.Item;e.exports={layout:"horizontal",colWidth:[6,12,18,24],tableViews:[{name:"ADManageTable",cols:["type","title","startTime","upTime","downTime","state"],func:"getADManageTableColumns"}],getADManageTableColumns:function(e){return[{title:"广告位",dataIndex:"type",key:"type",fixed:"left",width:150},{title:"活动标题",dataIndex:"title",key:"title",width:180},{title:"创建时间",dataIndex:"startTime",key:"startTime",width:150},{title:"上线时间",dataIndex:"upTime",key:"upTime",width:150},{title:"下线时间",dataIndex:"downTime",key:"downTime",width:150},{title:"发布状态",dataIndex:"state",key:"state",width:80}]},initCreateADManageForm:function(e){e.type="",e.typeID="",e.title="",e.picture="",e.serviceStation=""},getADManageFormRule:function(e,t,n){var r={};if(t="axlMessCenter"!=n?t:null)for(var a=t.length,l=0;l<a;l++){var s=t[l],c=s.name,d=o(s,["name"]);d&&(r[c]=d)}return[i({id:"type",desc:"广告位",required:!0},r.type),i({id:"title",desc:"活动标题",required:!0,max:"30"},r.title),"axlMessCenter"!=n?i({id:"picture",desc:"上传图片",uploadPictureRequired:!0},r.picture):""]},getADManageForm:function(e,t,n,r,o,a,c){a||(a=[16,8,6,4]);var u=d.default.getParam(e,n),m=u.attrMap;c||(c=this.layout);var g="form-item-"+c,h=d.default.getItemLayout(c,a),y=e.state.hints,b=[l.default.createElement(p,i({},h[3],{newLine:!0,key:"type",label:"广告位",required:!0,colon:!0,help:y.typeHint,validateStatus:y.typeStatus,className:g}),u.objMap.type),l.default.createElement(p,i({},h[3],{newLine:!0,key:"title",label:"活动标题",required:!0,colon:!0,help:y.titleHint,validateStatus:y.titleStatus,className:g}),l.default.createElement(s.Input,i({type:"text",name:"title",id:"title",value:t.title,onChange:e.handleOnInputChange,placeholder:"请输入不超过30个字符"},m.title,{addonAfter:t.inputAddonAfter}))),"WebManage"==r?l.default.createElement("span",null,l.default.createElement(p,i({},h[3],{newLine:!0,key:"picture",label:"广告图",required:!0,colon:!0,help:y.pictureHint,validateStatus:y.pictureStatus,className:g}),l.default.createElement(f.default,i({ref:function(t){return e.aDManageImageForm=t}},m.picture,{setPicture:e.setPicture})),l.default.createElement("span",{style:{textAlign:"bottom",position:"relative"}},"图片规格建议：云平台登录页广告位：700*480；",l.default.createElement("span",{style:{position:"absolute",left:96,top:12}},"爱喜来首页轮播图：375*246；"))),l.default.createElement(p,i({},h[3],{newLine:!0,key:"content",label:"广告内容",colon:!0,help:y.contentHint,validateStatus:y.contentStatus,className:g}),u.objMap.content)):"axlMessCenter"==r?l.default.createElement("div",null,l.default.createElement(p,i({},h[3],{newLine:!0,key:"content",label:"广告内容",colon:!0,help:y.contentHint,validateStatus:y.contentStatus,className:g}),u.objMap.content)):l.default.createElement("span",null,l.default.createElement(p,i({},h[3],{newLine:!0,key:"serviceStation",label:"服务站",colon:!0,help:y.serviceStationHint,validateStatus:y.serviceStationStatus,className:g}),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:4},l.default.createElement(s.Checkbox,{onChange:e.onServiceStatiChange,defaultChecked:!0,disabled:o},"无限制")),l.default.createElement(s.Col,{span:20},u.objMap.serviceStation))),l.default.createElement(p,i({},h[3],{newLine:!0,key:"picture",label:"广告图",required:!0,colon:!0,help:y.pictureHint,validateStatus:y.pictureStatus,className:g}),l.default.createElement(f.default,i({ref:function(t){return e.aDManageImageForm=t}},m.picture,{setPicture:e.setPicture})),l.default.createElement("span",{style:{textAlign:"bottom",position:"relative"}},"图片规格建议：云平台登录页广告位：700*480；",l.default.createElement("span",{style:{position:"absolute",left:96,top:12}},"爱喜来首页轮播图：375*246；"))),l.default.createElement(p,i({},h[3],{newLine:!0,key:"content",label:"广告内容",colon:!0,help:y.contentHint,validateStatus:y.contentStatus,className:g}),u.objMap.content))];return d.default.adjuestForm(b,u.showMap,this.colWidth)},initFilterForm:function(e){e.type="",e.state=""},getFilterForm:function(e,t,n,r,o){r||(r=[8,8,6,4]);var a=d.default.getParam(e,n);a.attrMap;o||(o=this.layout);var s="form-item-"+o,c=d.default.getItemLayout(o,r),u=e.state.hints,f=[l.default.createElement(p,i({},c[0],{key:"type",label:"广告位",newLine:!1,colon:!0,help:u.typeHint,validateStatus:u.typeStatus,className:s}),a.objMap.type),l.default.createElement(p,i({},c[0],{key:"state",label:"发布状态",newLine:!1,colon:!0,help:u.stateHint,validateStatus:u.stateStatus,className:s}),a.objMap.state)];return d.default.adjuestForm(f,a.showMap,this.colWidth)}}},2027:function(e,t,n){"use strict";var r=n(0),o=(function(e){e&&e.__esModule}(r),n(11),n(13)),i=n(2025),a=n(14),l=n(45),s=o.createStore({listenables:[i],filter:{},recordSet:[],object:{},startPage:0,pageRow:0,totalRow:0,getOrgsByCitys:[],init:function(){},getServiceUrl:function(e){return a.xilaimanagerUrl+e},fireEvent:function(e,t,n){n.trigger({filter:n.filter,recordSet:n.recordSet,object:n.object,startPage:n.startPage,pageRow:n.pageRow,totalRow:n.totalRow,operation:e,errMsg:t,getOrgsByCitys:n.getOrgsByCitys}),l.showError("advertisement",e,t)},onRetrieve:function(e,t,n){var r=this,o=this.getServiceUrl("advertisement/queryDevThree");a.doRetrieveService(o,e,t,n,r.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(r.recordSet=t.object.list,r.startPage=t.object.startPage,r.pageRow=t.object.pageRow,r.totalRow=t.object.totalRow,r.filter=e,r.fireEvent("queryDevThree","",r)):(a.handleServer(t.errCode),r.fireEvent("queryDevThree","["+t.errCode+"]处理错误，"+t.errDesc,r))},function(){r.fireEvent("queryDevThree","调用服务错误",r)})},onWebManageRetrieve:function(e,t){var n=this,r=this.getServiceUrl("advertisement/queryDevThree");a.doRetrieveService(r,e,t,n.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(n.recordSet=t.object.list,n.startPage=t.object.startPage,n.totalRow=t.object.totalRow,n.filter=e,n.fireEvent("queryDevThreeWebManage","",n)):(a.handleServer(t.errCode),n.fireEvent("queryDevThreeWebManage","["+t.errCode+"]处理错误，"+t.errDesc,n))},function(){n.fireEvent("queryDevThreeWebManage","调用服务错误",n)})},onGetSelectOptions:function(){var e=this,t=this.getServiceUrl("advertisement/query_tab");a.doRetrieveService(t).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(e.recordSet=t.object,e.fireEvent("query_tab","",e)):e.fireEvent("query_tab","["+t.errCode+"]处理错误，"+t.errDesc,e)},function(t){e.fireEvent("query_tab","调用服务错误",e)})},onDelete:function(e){var t=this.getServiceUrl("advertisement/remove");a.recordDelete(this,e,t)},onCreate:function(e){var t=this.getServiceUrl("advertisement/create");a.recordCreate(this,e,t)},onPush:function(e){var t=this.getServiceUrl("advertisement/notification");a.recordCreate(this,e,t)},onUpdate:function(e,t){var n={},r=this.getServiceUrl("advertisement/update"),o=a.deepCopyValue(e);n=a.deepCopyValue(o),a.recordUpdate(this,n,r)},resuleReturn:function(e){return null===e||""===e||"000000"===e},onGetOrgsByCitys:function(){var e=this,t=this.getServiceUrl("organization/getOrgsByCitys");a.doRetrieveService(t).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(e.getOrgsByCitys=t.object,e.fireEvent("getOrgsByCitys","",e)):e.fireEvent("getOrgsByCitys","["+t.errCode+"]处理错误，"+t.errDesc,e)},function(t){e.fireEvent("getOrgsByCitys","调用服务错误",e)})}});e.exports=s},2029:function(e,t,n){"use strict";e.exports={getNowFormatDate:function(){return Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},(new Date).format("yyyy-MM-dd hh:mm:ss")},getNowFormatDateMonth:function(){return Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},(new Date).format("yyyy-MM-dd")},getDuration:function(e,t){var n=0;if(e&&t){var r=new Date(e),o=new Date(t),i=o-r,a=Math.floor(i/864e5),l=i%864e5,s=Math.floor(l/36e5),c=l%36e5,d=Math.floor(c/6e4),u=c%6e4;n=a+"天"+s+"时"+d+"分"+Math.floor(u/1e3)+"秒"}return n}}},2030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.offset===t.offset?t.length-e.length:e.offset-t.offset}},2031:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(-1!==u.indexOf(e.type))return d.default.renderToStaticMarkup(e);var t=d.default.renderToStaticMarkup(s.default.cloneElement(e,{},"\r")).split("\r");return(0,a.default)(t.length>1,"convertToHTML: Element of type "+e.type+" must render children"),(0,a.default)(t.length<3,"convertToHTML: Element of type "+e.type+" cannot use carriage return character"),{start:t[0],end:t[1]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(48),a=r(i),l=n(0),s=r(l),c=n(762),d=r(c),u=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]},2035:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(11),s=l.Select.Option,c=a.default.createClass({displayName:"ADDictSelect",getInitialState:function(){return{opts:[],loading:!1,optData:{id:"",name:""}}},showOptions:function(e){var t=e;null!==t&&void 0!==t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props.opts;this.showOptions(e)},render:function(){var e,t=this.props,n=t.showCode,i=t.required,c=t.onSelect,d=t.mode,u=t.value,f=r(t,["showCode","required","onSelect","mode","value"]);e=n?this.state.opts.map(function(e,t){return a.default.createElement(s,{key:e.id,value:e.id},e.id,"-",e.name)}):this.state.opts.map(function(e,t){return a.default.createElement(s,{key:e.id,value:e.id},e.name)});var p;if("multiple"===d){var m=u?u.split(","):[];p=a.default.createElement(l.Select,o({mode:"multiple",value:m,onSelect:this.selectMultiValue,onDeselect:this.deselectMultiValue},f),e)}else p=i?a.default.createElement(l.Select,o({value:u,onSelect:c},f),e):a.default.createElement(l.Select,o({value:u,onSelect:c},f),a.default.createElement(s,{value:""},"-请选择-"),e);return this.state.loading?a.default.createElement(l.Spin,null,p):p}});t.default=c},2036:function(e,t,n){!function(t,r){e.exports=r(n(92),n(21))}("undefined"!=typeof self&&self,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey(),o=t.getEndKey(),i=n.getBlockMap();return i.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===o}).concat([[o,i.get(o)]])}function o(e){return r(e).toList()}function i(e){if(e)return o(e).get(0)}function a(e){if(e){var t=i(e),n=e.getCurrentContent(),r=n.getBlockMap().toSeq().toList(),o=0;if(r.forEach(function(e,n){e.get("key")===t.get("key")&&(o=n-1)}),o>-1)return r.get(o)}}function l(e){return e?e.getCurrentContent().getBlockMap().toList():new y.List}function s(e){var t=o(e);if(!t.some(function(e){return e.type!==t.get(0).type}))return t.get(0).type}function c(e){var t=h.RichUtils.tryToRemoveBlockStyle(e);return t?h.EditorState.push(e,t,"change-block-type"):e}function d(e){var t="",n=e.getSelection(),r=n.getAnchorOffset(),i=n.getFocusOffset(),a=o(e);if(a.size>0){if(n.getIsBackward()){var l=r;r=i,i=l}for(var s=0;s<a.size;s+=1){var c=0===s?r:0,d=s===a.size-1?i:a.get(s).getText().length;t+=a.get(s).getText().slice(c,d)}}return t}function u(e){var t=e.getCurrentContent(),n=e.getSelection(),r=h.Modifier.removeRange(t,n,"forward"),o=r.getSelectionAfter(),i=r.getBlockForKey(o.getStartKey());return r=h.Modifier.insertText(r,o,"\n",i.getInlineStyleAt(o.getStartOffset()),null),h.EditorState.push(e,r,"insert-fragment")}function f(e){var t=h.Modifier.splitBlock(e.getCurrentContent(),e.getSelection());return c(h.EditorState.push(e,t,"split-block"))}function p(e){var t=e.getCurrentContent().getBlockMap().toList(),n=e.getSelection().merge({anchorKey:t.first().get("key"),anchorOffset:0,focusKey:t.last().get("key"),focusOffset:t.last().getLength()}),r=h.Modifier.removeRange(e.getCurrentContent(),n,"forward");return h.EditorState.push(e,r,"remove-range")}function m(e,t){var n=h.Modifier.setBlockData(e.getCurrentContent(),e.getSelection(),t);return h.EditorState.push(e,n,"change-block-data")}function g(e){var t=new y.Map({}),n=o(e);if(n&&n.size>0)for(var r=0;r<n.size;r+=1){var i=function(e){var r=n.get(e).getData();if(!r||0===r.size)return t=t.clear(),"break";if(0===e)t=r;else if(t.forEach(function(e,n){r.get(n)&&r.get(n)===e||(t=t.delete(n))}),0===t.size)return t=t.clear(),"break"}(r);if("break"===i)break}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.blockRenderMap=void 0,t.getSelectedBlocksMap=r,t.getSelectedBlocksList=o,t.getSelectedBlock=i,t.getBlockBeforeSelectedBlock=a,t.getAllBlocks=l,t.getSelectedBlocksType=s,t.removeSelectedBlocksStyle=c,t.getSelectionText=d,t.addLineBreakRemovingSelection=u,t.insertNewUnstyledBlock=f,t.clearEditorContent=p,t.setBlockData=m,t.getSelectedBlocksMetadata=g;var h=n(0),y=n(6),b=(0,y.Map)({code:{element:"pre"}});t.blockRenderMap=h.DefaultDraftBlockRenderMap.merge(b)},function(e,t,n){"use strict";function r(e){if(e){var t=e.getType();return"unordered-list-item"===t||"ordered-list-item"===t}return!1}function o(e,t,n){var r=e.getSelection(),o=e.getCurrentContent(),i=o.getBlockMap(),a=(0,l.getSelectedBlocksMap)(e).map(function(e){var r=e.getDepth()+t;return r=Math.max(0,Math.min(r,n)),e.set("depth",r)});return i=i.merge(a),o.merge({blockMap:i,selectionBefore:r,selectionAfter:r})}function i(e,t,n){var r=e.getSelection(),i=void 0;i=r.getIsBackward()?r.getFocusKey():r.getAnchorKey();var l=e.getCurrentContent(),s=l.getBlockForKey(i),c=s.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return e;var d=l.getBlockBefore(i);if(!d)return e;if(d.getType()!==c)return e;var u=s.getDepth();if(1===t&&u===n)return e;var f=Math.min(d.getDepth()+1,n),p=o(e,t,f);return a.EditorState.push(e,p,"adjust-depth")}Object.defineProperty(t,"__esModule",{value:!0}),t.isListBlock=r,t.changeDepth=i;var a=n(0),l=n(1)},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";var r=n(5),o=n(1),i=n(7),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(2);e.exports={getSelectedBlocksMap:o.getSelectedBlocksMap,getSelectedBlocksList:o.getSelectedBlocksList,getSelectedBlock:o.getSelectedBlock,getBlockBeforeSelectedBlock:o.getBlockBeforeSelectedBlock,getAllBlocks:o.getAllBlocks,getSelectedBlocksType:o.getSelectedBlocksType,removeSelectedBlocksStyle:o.removeSelectedBlocksStyle,getSelectionText:o.getSelectionText,addLineBreakRemovingSelection:o.addLineBreakRemovingSelection,insertNewUnstyledBlock:o.insertNewUnstyledBlock,clearEditorContent:o.clearEditorContent,setBlockData:o.setBlockData,getSelectedBlocksMetadata:o.getSelectedBlocksMetadata,blockRenderMap:o.blockRenderMap,getEntityRange:r.getEntityRange,getCustomStyleMap:r.getCustomStyleMap,toggleCustomInlineStyle:r.toggleCustomInlineStyle,getSelectionEntity:r.getSelectionEntity,extractInlineStyle:r.extractInlineStyle,removeAllInlineStyles:r.removeAllInlineStyles,getSelectionInlineStyle:r.getSelectionInlineStyle,getSelectionCustomInlineStyle:r.getSelectionCustomInlineStyle,handleNewLine:a.default,isListBlock:l.isListBlock,changeDepth:l.changeDepth}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.getSelection();if(t.isCollapsed()){var n={},r=e.getCurrentInlineStyle().toList().toJS();if(r)return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach(function(e){n[e]=r.indexOf(e)>=0}),n}var o=t.getStartOffset(),i=t.getEndOffset(),a=(0,h.getSelectedBlocksList)(e);if(a.size>0){var l=function(){for(var e={BOLD:!0,ITALIC:!0,UNDERLINE:!0,STRIKETHROUGH:!0,CODE:!0,SUPERSCRIPT:!0,SUBSCRIPT:!0},t=0;t<a.size;t+=1){var n=0===t?o:0,r=t===a.size-1?i:a.get(t).getText().length;n===r&&0===n?(n=1,r=2):n===r&&(n-=1);for(var l=n;l<r;l+=1)!function(n){var r=a.get(t).getInlineStyleAt(n);["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach(function(t){e[t]=e[t]&&r.get(t)===t})}(l)}return{v:e}}();if("object"===(void 0===l?"undefined":m(l)))return l.v}return{}}function i(e){var t=void 0,n=e.getSelection(),r=n.getStartOffset(),o=n.getEndOffset();r===o&&0===r?o=1:r===o&&(r-=1);for(var i=(0,h.getSelectedBlock)(e),a=r;a<o;a+=1){var l=i.getEntityAt(a);if(!l){t=void 0;break}if(a===r)t=l;else if(t!==l){t=void 0;break}}return t}function a(e,t){var n=(0,h.getSelectedBlock)(e),r=void 0;return n.findEntityRanges(function(e){return e.get("entity")===t},function(e,t){r={start:e,end:t,text:n.get("text").slice(e,t)}}),r}function l(e,t,n){var r=e.getSelection(),o=Object.keys(y[t]).reduce(function(e,t){return g.Modifier.removeInlineStyle(e,r,t)},e.getCurrentContent()),i=g.EditorState.push(e,o,"changeinline-style"),a=e.getCurrentInlineStyle();if(r.isCollapsed()&&(i=a.reduce(function(e,t){return g.RichUtils.toggleInlineStyle(e,t)},i)),"SUPERSCRIPT"===t||"SUBSCRIPT"==t)a.has(n)||(i=g.RichUtils.toggleInlineStyle(i,n));else{var l="bgcolor"===t?"backgroundColor":t;a.has(l+"-"+n)||(i=g.RichUtils.toggleInlineStyle(i,t.toLowerCase()+"-"+n),b(t,l,n))}return i}function s(e){e&&e.getCurrentContent().getBlockMap().map(function(e){return e.get("characterList")}).toList().flatten().forEach(function(e){e&&0===e.indexOf("color-")?b("color","color",e.substr(6)):e&&0===e.indexOf("bgcolor-")?b("bgcolor","backgroundColor",e.substr(8)):e&&0===e.indexOf("fontsize-")?b("fontSize","fontSize",+e.substr(9)):e&&0===e.indexOf("fontfamily-")&&b("fontFamily","fontFamily",e.substr(11))})}function c(e,t,n){var r=e.getInlineStyleAt(n).toList(),o=r.filter(function(e){return e.startsWith(t.toLowerCase())});if(o&&o.size>0)return o.get(0)}function d(e,t){var n=e.getCurrentInlineStyle().toList(),r=n.filter(function(e){return e.startsWith(t.toLowerCase())});if(r&&r.size>0)return r.get(0)}function u(e,t){if(e&&t&&t.length>0){var n=function(){var n=e.getSelection(),r={};if(n.isCollapsed())return t.forEach(function(t){r[t]=d(e,t)}),{v:r};var o=n.getStartOffset(),i=n.getEndOffset(),a=(0,h.getSelectedBlocksList)(e);if(a.size>0){for(var l=0;l<a.size;l+=1)!function(e){var n=0===e?o:0,l=e===a.size-1?i:a.get(e).getText().length;n===l&&0===n?(n=1,l=2):n===l&&(n-=1);for(var s=n;s<l;s+=1)!function(o){o===n?t.forEach(function(t){r[t]=c(a.get(e),t,o)}):t.forEach(function(t){r[t]&&r[t]!==c(a.get(e),t,o)&&(r[t]=void 0)})}(s)}(l);return{v:r}}}();if("object"===(void 0===n?"undefined":m(n)))return n.v}return{}}function f(e){var t=e.getCurrentInlineStyle(),n=e.getCurrentContent();return t.forEach(function(t){n=g.Modifier.removeInlineStyle(n,e.getSelection(),t)}),g.EditorState.push(e,n,"change-inline-style")}Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomStyleMap=void 0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getSelectionInlineStyle=o,t.getSelectionEntity=i,t.getEntityRange=a,t.toggleCustomInlineStyle=l,t.extractInlineStyle=s,t.getSelectionCustomInlineStyle=u,t.removeAllInlineStyles=f;var g=n(0),h=n(1),y={color:{},bgcolor:{},fontSize:{},fontFamily:{},CODE:{fontFamily:"monospace",wordWrap:"break-word",background:"#f1f1f1",borderRadius:3,padding:"1px 3px"},SUPERSCRIPT:{fontSize:11,position:"relative",top:-8,display:"inline-flex"},SUBSCRIPT:{fontSize:11,position:"relative",bottom:-8,display:"inline-flex"}},b=function(e,t,n){y[e][e.toLowerCase()+"-"+n]=r({},""+t,n)};t.getCustomStyleMap=function(){return p({},y.color,y.bgcolor,y.fontSize,y.fontFamily,{CODE:y.CODE,SUPERSCRIPT:y.SUPERSCRIPT,SUBSCRIPT:y.SUBSCRIPT})}},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(t.isCollapsed()){var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockForKey(r);if(!(0,s.isListBlock)(o)&&"unstyled"!==o.getType()&&o.getLength()===t.getStartOffset())return(0,l.insertNewUnstyledBlock)(e);if((0,s.isListBlock)(o)&&0===o.getLength()){var i=o.getDepth();if(0===i)return(0,l.removeSelectedBlocksStyle)(e);if(i>0)return(0,s.changeDepth)(e,-1,i)}}}function o(e){return 13===e.which&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}function i(e,t){return o(t)?e.getSelection().isCollapsed()?a.RichUtils.insertSoftNewline(e):(0,l.addLineBreakRemovingSelection)(e):r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(0),l=n(1),s=n(2)}])})},2037:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertRawToEditorState=t.convertEditorStateToRaw=t.convertHTMLToEditorState=t.convertEditorStateToHTML=t.convertHTMLToRaw=t.convertRawToHTML=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2057),i=n(2070),a=n(92),l={fontFamilies:i.defaultFontFamilies};t.convertRawToHTML=function(e,t){t=r({},l,t);try{var n=(0,a.convertFromRaw)(e);return t.contentState=n,(0,o.convertToHTML)((0,i.getToHTMLConfig)(t))(n)}catch(e){return console.warn(e),""}},t.convertHTMLToRaw=function(e,t,n){t=r({},l,t);try{var s=(0,o.convertFromHTML)((0,i.getFromHTMLConfig)(t,n))(e);return(0,a.convertToRaw)(s)}catch(e){return console.warn(e),{}}},t.convertEditorStateToHTML=function(e,t){t=r({},l,t);try{var n=e.getCurrentContent();return t.contentState=n,(0,o.convertToHTML)((0,i.getToHTMLConfig)(t))(n)}catch(e){return console.warn(e),""}},t.convertHTMLToEditorState=function(e,t,n,s){n=r({},l,n);try{return a.EditorState.createWithContent((0,o.convertFromHTML)((0,i.getFromHTMLConfig)(n,s))(e),t)}catch(e){return console.warn(e),a.EditorState.createEmpty(t)}},t.convertEditorStateToRaw=function(e){return(0,a.convertToRaw)(e.getCurrentContent())},t.convertRawToEditorState=function(e,t){try{return a.EditorState.createWithContent((0,a.convertFromRaw)(e),t)}catch(e){return console.warn(e),a.EditorState.createEmpty(t)}}},2038:function(e,t,n){"use strict";function r(e,t,n,r,o,i){var a=r-n;return t+n<=e.offset?Object.assign({},e,{offset:e.offset+a}):t>=e.offset&&t+n<=e.offset+e.length?Object.assign({},e,{length:e.length+a}):e.offset>=t&&e.offset+e.length<=t+n&&o>0?Object.assign({},e,{offset:e.offset+o}):e.offset<t&&e.offset+e.length<=t+n&&e.offset+e.length>t&&o>0?[Object.assign({},e,{length:t-e.offset}),Object.assign({},e,{offset:t+o,length:e.offset-t+e.length})]:e.offset>=t&&e.offset+e.length>t+n&&t+n>e.offset&&i>0?[Object.assign({},e,{offset:e.offset+o,length:t+n-e.offset}),Object.assign({},e,{offset:t+n+o+i,length:e.offset+e.length-(t+n)})]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},2039:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return d.default.isValidElement(e)&&d.default.Children.count(e.props.children)>0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===e||null===e)return e;if("string"==typeof e)return e;if(d.default.isValidElement(e)){if(o(e))return f.default.renderToStaticMarkup(e);var n=(0,m.default)(e);if(null!==t&&"object"===(void 0===n?"undefined":a(n))){return n.start+t+n.end}return n}if((0,s.default)(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received conversion data without either an HTML string, ReactElement or an object with start/end tags"),null!==t){return e.start+t+e.end}return e}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var l=n(48),s=r(l),c=n(0),d=r(c),u=n(762),f=r(u),p=n(2031),m=r(p)},2040:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var n=e.apply(void 0,arguments);return void 0!==n&&null!==n?n:t.apply(void 0,arguments)}}},2041:function(e,t,n){"use strict";function r(e){var t=void 0;if("undefined"!=typeof DOMParser){t=(new DOMParser).parseFromString(e,"text/html"),null!==t&&null!==t.body||(t=o(e))}else t=o(e);return t.body}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=function(e){var t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,t}},2048:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),a=r(i),l=n(12),s=(r(l),n(8)),c=(r(s),n(11));n(763);var d=n(2049),u=r(d),f=n(23),p=r(f),m=n(26),g=r(m),h=n(2035),y=r(h),b=n(2050),v=r(b);n(2052);var A=n(2054),E=r(A),S=n(2074),k=r(S),C=n(13),w=c.Form.Item,x=c.Tabs.TabPane,I=n(15),M=n(14),T=n(2029),B=n(2027),O=n(2025),D=n(2026),N="",F=a.default.createClass({displayName:"ADManageWindowPage",getInitialState:function(){return{loading:!1,hints:{},validRules:[],tabIndex:"2",previewVisible:!1,previewImage:"",fileList:[],adManage:{type:"",typeID:"",title:"",state:"",upTime:"",downTime:"",link:"",picture:"",inputAddonAfter:"0/30",editorState:E.default.createEditorState(null)},actionType:"retrieve",actionType1:"retrieve",typeType:"",selectDisabled:!0,checkFlag:!1}},mixins:[C.listenTo(B,"onServiceComplete"),(0,g.default)("adManage")],onServiceComplete:function(e){if(this.setState({loading:!1}),e.errMsg||null===e.errMsg)return void this.setState({errMsg:e.errMsg});if("create"===e.operation||"update"===e.operation){var t=void 0;if("update"===e.operation?e.recordSet.map(function(e,n){e.uuid==N&&(t=n)}):"create"===e.operation&&(t=e.recordSet.length-1),"0"==e.recordSet[t].isExistSensitiveWord||null==e.recordSet[t].isExistSensitiveWord){if(("axlMessCenter"==e.recordSet[t].typeID||"axlCourierApp"==e.recordSet[t].typeID)&&1==e.recordSet[t].stateID){var n=e.recordSet[t];O.push(n)}this.setState({loading:!1,modal:!1}),this.goBack()}else if("1"==e.recordSet[t].isExistSensitiveWord){var r=e.recordSet[t].sensetiveWord[0],o=r.politicallySensitive.length>0?"政治敏感词："+r.politicallySensitive+"；":"政治敏感词：无；",i=r.pornography.length>0?"色情敏感词："+r.pornography+"；":"色情敏感词：无；",l=r.violentTerror.length>0?"恐怖主义敏感词："+r.violentTerror+"。":"恐怖主义敏感词：无。";c.Modal.warning({title:"广告涉及敏感词",content:a.default.createElement("div",null,a.default.createElement("p",null,o),a.default.createElement("p",null,i),a.default.createElement("p",null,l)),okText:"确认"}),this.setState({loading:!1,modal:!1})}}},componentDidMount:function(){this.initValidRules()},initValidRules:function(){var e="";e="add"===this.props.actionType?this.state.typeType?this.state.typeType:"":this.state.adManage.typeID?this.state.adManage.typeID:"";var t=[{name:"picture",validator:this.checkPicture}];this.state.validRules=D.getADManageFormRule(this,t,e)},goBack:function(){this.clear(),this.props.goBack()},clear:function(e){D.initCreateADManageForm(this.state.adManage),this.state.hints={},this.setState({loading:!1})},addData:function(){D.initCreateADManageForm(this.state.adManage)},initEditData:function(e){if(this.state.adManage=M.deepCopyValue(e),N=e.uuid,this.setState({loading:!1}),e.picture&&this.aDManageImageForm.setPicture(e.picture),e.raw){try{e.raw=JSON.parse(e.raw)}catch(e){}this.setState({editorState:E.default.createEditorState(e.raw)})}},onTabChange:function(e){"1"===e?this.goBack():this.setState({tabIndex:e})},getHtml:function(e){var t=this.getContent();t.state="未上线",t.stateID="0",""==t.serviceStation&&(t.serviceStation=[]),this.setState({loading:!0}),"create"===e?(delete t.editorState,O.create(t)):"edit"===e&&O.update(t,"edit")},getContent:function(){var e=M.deepCopyValue(this.state.adManage);e.startTime=T.getNowFormatDate();var t=I.getLoginData(),n=t.staffInfo.perName,r={html:this.state.editorState.toHTML(),title:e.title,userName:n,publishDate:e.upTime},o=(0,u.default)(r),i=this.state.editorState.toRAW();e.raw=JSON.stringify(i);var a=M.deepCopyValue(JSON.parse(i)),l=!1,s=!1;return 1==a.blocks.length&&""==a.blocks[0].text&&(l=!0),"{}"==JSON.stringify(a.entityMap)&&(s=!0),1==l&&1==s?(e.text="0",e.link=""):e.text="1",e.content=o,e},onClickSave:function(){var e=M.deepCopyValue(this.state.adManage);this.state.adManage=M.deepCopyValue(e),this.initValidRules(),I.formValidator(this,this.state.adManage)&&this.getHtml(this.props.actionType)},onClickOnline:function(e){var t=this,n=this.getContent();n.upTime=T.getNowFormatDate(),n.state="已上线",n.stateID="1","axlCourierApp"==n.typeID?(""==n.serviceStation&&(n.serviceStation=this.organizationSelectPage.getAllOrgNo()),this.props.axlCourierAppFlag?c.Modal.warning({title:"提示",content:"爱喜来首页轮播位最多只能上线10个广告。",okText:"知道了"}):(this.initValidRules(),I.formValidator(this,n)&&("create"===e?this.setState({actionType1:"create"},function(){t.refs.onlineWindow.initPage(n),t.refs.onlineWindow.toggle()}):"edit"===e&&this.setState({actionType1:"edit"},function(){t.refs.onlineWindow.initPage(n),t.refs.onlineWindow.toggle()})))):"WebManage"==n.typeID?(""==n.serviceStation&&(n.serviceStation=[]),this.props.WebManageFlag?c.Modal.warning({title:"提示",content:"云平台登录页广告位最多只能上线10个广告。",okText:"知道了"}):(this.initValidRules(),I.formValidator(this,n)&&("create"===e?this.setState({actionType1:"create"},function(){t.refs.onlineWindow.initPage(n),t.refs.onlineWindow.toggle()}):"edit"===e&&this.setState({actionType1:"edit"},function(){t.refs.onlineWindow.initPage(n),t.refs.onlineWindow.toggle()})))):"axlMessCenter"===n.typeID&&(""==n.serviceStation&&(n.serviceStation=[]),this.initValidRules(),I.formValidator(this,n)&&("0"===n.text?c.Modal.warning({title:"提示",content:"广告内容未填写。",okText:"知道了"}):"1"===n.text&&("create"===e?(delete n.editorState,this.setState({actionType1:"create"},function(){t.refs.onlineWindow.initPage(n),t.refs.onlineWindow.toggle()})):"edit"===e&&this.setState({actionType1:"edit"},function(){t.refs.onlineWindow.initPage(n),t.refs.onlineWindow.toggle()}))))},setPicture:function(e){var t=this,n=M.deepCopyValue(this.state.adManage);n.picture=e,this.setState({adManage:n},function(){I.validator(t,t.state.adManage,"picture")})},checkPicture:function(e){if(!e)return"请上传广告图"},onSelected:function(e,t){var n=this,r=this.props.typeSet1,o=M.deepCopyValue(this.state.adManage),i={id:"",name:""};t&&(i=r.find(function(e){return e.id===t})),o.typeID=i.id,o.type=i.name,"axlMessCenter"==t?(this.state.typeType="axlMessCenter",this.setState({loading:!1})):"WebManage"==t?(this.state.typeType="WebManage",this.setState({loading:!1})):"axlCourierApp"==t&&(this.state.typeType="axlCourierApp",this.setState({loading:!1})),this.setState({adManage:o},function(){I.validator(n,n.state.adManage,"type")})},handleOnInputChange:function(e){var t=this.state.adManage,n=/[\/。……（）【】——《》￥*`~!@#$%^&*()_+<>?:|?<>"{},.\/\\;'[\]]/gim;t[e.target.id]=e.target.value.replace(/^\s\s*/,"").replace(/\s\s*$/,""),I.validator(this,t,e.target.id),t[e.target.id]=t[e.target.id].replace(n,"");var r=t[e.target.id].length;t.inputAddonAfter=r+"/30"},handleChange:function(e){this.setState({editorState:e})},uploadFn:function(e){var t=M.xilaimanagerUrl+"advertisement/upload",n=new XMLHttpRequest,r=new FormData,o=function(t){var n=t.target;if(200===n.status||"OK"===n.statusText){var r=n.response;try{r=JSON.parse(r)}catch(e){}if(null==r.errCode||""==r.errCode||"000000"==r.errCode){var o=r.object,i=r.object.split("=")[1];e.success({url:o,meta:{id:i,alt:"图片"}})}else"AUTH11"===r.errCode||"AUTH09"===r.errCode?M.handleServer(result.errCode):I.warnMsg("图片上传失败["+r.errCode+"]["+r.errDesc+"]")}else e.error({msg:"上传错误！"})},i=function(t){e.progress(t.loaded/t.total*100)},a=function(t){e.error({msg:"上传错误！"})};n.upload.addEventListener("progress",i,!1),n.addEventListener("load",o,!1),n.addEventListener("error",a,!1),n.addEventListener("abort",a,!1),r.append("file",e.file),n.open("POST",t,!0),n.send(r)},buildPreviewHtml:function(){var e=M.deepCopyValue(this.state.adManage);e.startTime=T.getNowFormatDate();var t=I.getLoginData(),n=t.staffInfo.perName,r={html:this.state.editorState.toHTML(),title:e.title,userName:n,publishDate:e.upTime};return(0,u.default)(r)},preview:function(){window.previewWindow&&window.previewWindow.close(),window.previewWindow=window.open(),window.previewWindow.document.write(this.buildPreviewHtml()),window.previewWindow.document.close()},selectServiceStation:function(e){e.length>0?this.setState({checkFlag:!0}):this.setState({checkFlag:!1}),this.state.adManage.serviceStation=e,this.setState({loading:!1})},onServiceStatiChange:function(e){e.target.checked?this.setState({selectDisabled:!0}):this.setState({selectDisabled:!1})},render:function(){var e=this,t="",n=this.props.actionType,r="",i=!1,l=!1;"check"===n?(t="查看广告",r="none",i=!0,this.state.checkFlag=!0,this.state.selectDisabled=!0):"edit"===n?t="编辑广告":"create"===n&&(t="新建广告"),l=!!this.state.checkFlag;var s={media:{allowPasteImage:!0,image:!0,uploadFn:this.uploadFn},controls:["undo","redo","separator","split","font-size","separator","line-height","separator","letter-spacing","separator","text-color","bold","italic","underline","separator","strike-through","superscript","subscript","remove-styles","separator","text-align","separator","split","blockquote","split","link","split","media","hr","separator","clear"]},d=[{key:"custom-button",type:"button",text:"预览",onClick:this.preview}],u=[{name:"type",id:"type",object:a.default.createElement(y.default,{name:"type",id:"type",value:this.state.adManage.typeID,onSelect:this.onSelected.bind(this,"type"),opts:this.props.typeSet,disabled:i})},{name:"title",id:"title",disabled:i},{name:"picture",id:"picture",disabled:i},{name:"content",id:"content",object:a.default.createElement(E.default,o({placeholder:"请输入正文内容",onChange:this.handleChange,value:this.state.editorState,extendControls:d},s))},{name:"serviceStation",id:"serviceStation",object:a.default.createElement(v.default,{onSelected:this.selectServiceStation,value:this.state.adManage.serviceStation,disabled:this.state.selectDisabled,ref:function(t){return e.organizationSelectPage=t}})}],f="";f="add"===n?this.state.typeType?this.state.typeType:"":this.state.adManage.typeID?this.state.adManage.typeID:"";var m=D.getADManageForm(this,this.state.adManage,u,f,l),g=this.state.actionType1,h=this.state.tabIndex,b={actionType1:g,typeType:f};return a.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},a.default.createElement(c.Tabs,{activeKey:h,onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},a.default.createElement(x,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),a.default.createElement(x,{tab:t,key:"2",style:{width:"100%",height:"100%"}},a.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto",width:"1080px"}},a.default.createElement(p.default,{ref:"mxgBox",svcList:[""]}),a.default.createElement(c.Form,{layout:"horizontal"},m,a.default.createElement(w,{style:{textAlign:"right",margin:"4px 0 30px 0",display:r}},a.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",a.default.createElement(c.Button,{key:"btnOnline",type:"danger",size:"large",onClick:this.onClickOnline.bind(this,this.props.actionType),loading:this.state.loading},"上线")))))),a.default.createElement(k.default,o({ref:"onlineWindow"},b)))}});t.default=F},2049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.html,n=e.title,r=e.userName;e.publishDate;return"<!DOCTYPE html><html lang=en><head><title>"+n+"</title><meta charset=UTF-8><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\"><style>*{margin: 0;padding: 0} html,body{height: 100%;margin: 0;padding: 0;overflow: auto;background-color: #f1f1f1;} .news-wrap{font-size: 14px;font-family: 'Raleway';box-sizing: border-box; width: 1000px;max-width: 100%; min-height: 100%;padding: 30px 30px;overflow: hidden;margin: 0 auto;background: #ffffff;} .news-wrap ol,.news-wrap ul{margin-left: 20px} .news-wrap p{margin-bottom: 10px;line-height: normal;letter-spacing: 1px} .news-wrap .image-wrap{text-align: center} .news-wrap blockquote{background-color: #ccc;padding-left: 10px;padding-right:10px;border-left: 2px solid #999;} .news-wrap .image-wrap img{width: 100%!important;height: auto!important;}</style></head><body><div class='news-wrap'><div style='font-size: 22px'>"+n+'</div><div style="color: #999999;font-size: 12px;margin: 10px 0 18px">作者：'+r+"</div>"+t+"</div></body></html>"};t.default=r},2050:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(12),l=(r(a),n(8)),s=(r(l),n(11)),c=n(23),d=(r(c),n(26)),u=(r(d),n(13)),f=s.TreeSelect.TreeNode,p=(s.TreeSelect.SHOW_PARENT,n(2029),n(2026),n(15),n(14),n(2027)),m=n(2025),g=i.default.createClass({displayName:"OrganizationSelectPage",getInitialState:function(){return{loading:!1,organizationList:{recordSet:[],errMsg:""},value:void 0}},mixins:[u.listenTo(p,"onServiceComplete")],onServiceComplete:function(e){e.errMsg||"getOrgsByCitys"===e.operation&&this.setState({organizationList:e,loading:!1})},componentDidMount:function(){this.setState({loading:!0}),m.getOrgsByCitys()},onChange:function(e){this.setState({value:e}),"0"!==e?this.props.onSelected&&this.props.onSelected(e):this.props.onSelected&&this.props.onSelected(null)},getAllOrgNo:function(){var e=this.state.organizationList.getOrgsByCitys||[],t=[];return e.map(function(e){e.children&&e.children.map(function(e){e.children&&e.children.map(function(e){e.orgNo&&t.push(e.orgNo)})})}),t},render:function(){var e=this.state.organizationList.getOrgsByCitys||[],t=this.props,n=t.value,r=t.disabled,o=[];e.map(function(e){var t=[],n=[];e.children&&(e.children.map(function(e){n=[],e.children&&e.children.map(function(e){n.push(i.default.createElement(f,{value:e.orgNo,title:e.orgName,key:e.orgNo}))}),t.push(i.default.createElement(f,{value:e.value,title:e.label,key:e.value},n))}),o.push(i.default.createElement(f,{value:e.value,title:e.label,key:e.value},t)))});var a=i.default.createElement(s.TreeSelect,{value:n,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择服务站",allowClear:!0,treeCheckable:"true",onChange:this.onChange,disabled:r},o);return i.default.createElement("div",null,a)}});t.default=g},2051:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(11),l=n(14),s=n(15),c=i.default.createClass({displayName:"ADManageImageForm",getInitialState:function(){return{fileList:[],previewImage:"",previewVisible:!1,fileId:""}},setPicture:function(e){this.setState({fileList:[{uid:"1",url:e}]})},onPreviewImage:function(e){this.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},handleCancel:function(){this.setState({previewVisible:!1})},onRemoveImage:function(e){return!this.props.disabled&&(this.props.setPicture(""),5===length?length-=2:length--,!0)},beforeUpload:function(e){return"image/jpeg"!==e.type&&"image/jpg"!==e.type&&"image/gif"!==e.type&&"image/png"!==e.type&&"image/bmp"!==e.type?(s.warnMsg("请选择图片文件"),!1):e.size/1024/1024>10?(s.warnMsg("请选择小于10M的图片文件"),!1):(this.setState({fileName:e.name}),!0)},upload:function(e){for(var t="",n=0;n<e.fileList.length;n++)if(e.fileList[n].name="","object"==r(e.fileList[n].response)){var o=e.fileList[n].response,i=o.errCode;null==o.errCode||""==o.errCode||"000000"==o.errCode?(t=o.object?o.object:"",this.props.setPicture(t)):"AUTH11"===i||"AUTH09"===i?l.handleServer(o.errCode):s.warnMsg("图片上传失败["+o.errCode+"]["+o.errDesc+"]")}return("image/jpeg"===e.file.type||"image/jpg"===e.file.type||"image/gif"===e.file.type||"image/png"===e.file.type||"image/bmp"===e.file.type||"removed"==e.file.status)&&(!(e.file.size/1024/1024>10&&"removed"!=e.file.status)&&void this.setState({fileList:e.fileList,fileId:t}))},render:function(){var e=l.xilaimanagerUrl+"advertisement/upload",t=this.state.fileList,n=this.state,r=n.previewVisible,o=n.previewImage,s=i.default.createElement("div",null,i.default.createElement(a.Icon,{type:"plus"}),i.default.createElement("div",{className:"ant-upload-text"},"上传"));return i.default.createElement("span",null,i.default.createElement(a.Upload,{name:"file",listType:"picture-card",fileList:t,action:e,beforeUpload:this.beforeUpload,onRemove:this.onRemoveImage,onPreview:this.onPreviewImage,onChange:this.upload,accept:"image/*",disabled:this.props.disabled},t.length>=1?null:s),i.default.createElement(a.Modal,{visible:r,footer:null,onCancel:this.handleCancel,className:"modal-noTitle"},i.default.createElement("img",{alt:"example",style:{width:"100%"},src:o})))}});e.exports=c},2052:function(e,t,n){var r=n(2053);"string"==typeof r&&(r=[[e.i,r,""]]);n(154)(r,{});r.locals&&(e.exports=r.locals)},2053:function(e,t,n){t=e.exports=n(153)(),t.push([e.i,".bf-container {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 4px; }\n\n.pull-left {\n  display: none; }\n\n.bf-modal {\n  z-index: 3; }\n",""])},2054:function(e,t,n){!function(t,r){e.exports=r(n(0),n(2055),n(92),n(21),n(2037),n(12),n(2073),n(2036))}(window,function(e,t,n,r,o,i,a,l){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=30)}([function(t,n){t.exports=e},function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n},function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n},function(e,n){e.exports=t},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r},function(e,t,n){function r(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}var o=n(16),i=n(1);e.exports=r},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}var o=n(23);e.exports=r},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}var o=n(2);e.exports=r},function(e,t){e.exports=n},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){function r(e){return o(e)||i(e)||a()}var o=n(24),i=n(25),a=n(26);e.exports=r},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){e.exports=a},function(e,t,n){function r(e){this.decorators=o.List(e)}var o=n(13);r.prototype.getDecorations=function(e){var t=Array(e.getText().length).fill(null);return this.decorators.forEach(function(n,r){n.getDecorations(e).forEach(function(e,n){e&&(e=r+"-"+e,t[n]=e)})}),o.List(t)},r.prototype.getComponentForKey=function(e){return this.getDecoratorForKey(e).getComponentForKey(this.getInnerKey(e))},r.prototype.getPropsForKey=function(e){return this.getDecoratorForKey(e).getPropsForKey(this.getInnerKey(e))},r.prototype.getDecoratorForKey=function(e){var t=e.split("-"),n=Number(t[0]);return this.decorators.get(n)},r.prototype.getInnerKey=function(e){return e.split("-").slice(1).join("-")},e.exports=r},function(e,t,n){function r(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=n(22);e.exports=r},function(e,t){e.exports=l},function(e,t,n){function r(e,t){return o(e)||i(e,t)||a()}var o=n(27),i=n(28),a=n(29);e.exports=r},function(e,t){function n(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}e.exports=n},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}e.exports=n},function(e,t){function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}e.exports=n},function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}e.exports=n},function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n},function(e,t){function n(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}e.exports=n},function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r),i=n(9),a=n.n(i),l=n(19),s=n.n(l),c=n(4),d=n.n(c),u=n(5),f=n.n(u),p=n(6),m=n.n(p),g=n(7),h=n.n(g),y=n(8),b=n.n(y),v=n(1),A=n.n(v),E=n(2),S=n.n(E),k=n(12),C=n.n(k),w=(n(31),n(33),n(0)),x=n.n(w),I={base:{remove:"Remove",cancel:"Cancel",confirm:"Confirm",inert:"Insert",width:"Width",height:"Height"},controls:{clear:"Clear",undo:"Undo",redo:"Redo",fontSize:"Font Size",color:"Color",textColor:"Text",tempColors:"Temp Colors",backgroundColor:"Background",bold:"Bold",lineHeight:"Line Height",letterSpacing:"Letter Spacing",textIndent:"Text Indent",increaseIndent:"Increase Indent",decreaseIndent:"Decrease Indent",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",fontFamily:"Font Family",textAlign:"Text Alignment",alignLeft:"Left Alignment",alignCenter:"Center Alignment",alignRight:"Right Alignment",alignJustify:"Justify Alignment",floatLeft:"Left Float",floatRight:"Right Float",superScript:"Super Script",subScript:"Sub Script",removeStyles:"Remove Styles",headings:"Headings",header:"Header",normal:"Normal",orderedList:"Ordered List",unorderedList:"Unordered List",blockQuote:"Quote",code:"Code",link:"Link",unlink:"Unlink",hr:"Horizontal Line",media:"Media",mediaLibirary:"Media Library",emoji:"Emoji",fullscreen:"Fullscreen",exitFullscreen:"Exit Fullscreen"},linkEditor:{inputPlaceHolder:"Input link URL",inputWithEnterPlaceHolder:"Input link URL and press Enter",openInNewWindow:"Open in new window",removeLink:"Remove Link"},audioPlayer:{title:"Play Audio"},videoPlayer:{title:"Play Video",embedTitle:"Embed Media"},media:{image:"Image",video:"Video",audio:"Audio",embed:"Embed"}},M={base:{remove:"删除",cancel:"取消",confirm:"确定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤销",redo:"重做",fontSize:"字号",lineHeight:"行高",letterSpacing:"字间距",textIndent:"段落缩进",increaseIndent:"增加缩进",decreaseIndent:"减少缩进",border:"边框",color:"颜色",textColor:"文字颜色",backgroundColor:"背景颜色",tempColors:"临时颜色",bold:"加粗",italic:"斜体",underline:"下划线",strikeThrough:"删除线",fontFamily:"字体",textAlign:"文本对齐",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"两端",floatLeft:"左浮动",floatRight:"右浮动",superScript:"上标",subScript:"下标",removeStyles:"清除样式",headings:"标题",header:"标题",normal:"常规",orderedList:"有序列表",unorderedList:"无序列表",blockQuote:"引用",code:"代码",link:"链接",unlink:"清除链接",hr:"水平线",media:"媒体",mediaLibirary:"媒体库",emoji:"小表情",fullscreen:"全屏",exitFullscreen:"退出全屏"},linkEditor:{inputPlaceHolder:"输入链接地址",inputWithEnterPlaceHolder:"输入链接地址并回车",openInNewWindow:"在新窗口打开",removeLink:"移除链接"},audioPlayer:{title:"播放音频文件"},videoPlayer:{title:"播放视频文件",embedTitle:"嵌入式媒体"},media:{image:"图像",video:"视频",audio:"音频",embed:"嵌入式媒体"}},T={base:{remove:"刪除",cancel:"取消",confirm:"確定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤銷",redo:"重做",fontSize:"字號",color:"顏色",textColor:"文字顏色",backgroundColor:"背景顏色",tempColors:"臨時顏色",bold:"加粗",lineHeight:"行高",letterSpacing:"字間距",textIndent:"段落縮進",increaseIndent:"增加縮進",decreaseIndent:"减少縮進",border:"邊框",italic:"斜體",underline:"下劃線",strikeThrough:"刪除線",fontFamily:"字體",textAlign:"文本對齊",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"兩端對齊",floatLeft:"左浮動",floatRight:"右浮動",superScript:"上標",subScript:"下標",removeStyles:"清除样式",headings:"標題",header:"標題",normal:"常規",orderedList:"有序列表",unorderedList:"無序列表",blockQuote:"引用",code:"代碼",link:"鏈接",unlink:"清除鏈接",hr:"水平线",media:"媒體",mediaLibirary:"媒體库",emoji:"小表情",fullscreen:"全熒幕",exitFullscreen:"退出全熒幕"},linkEditor:{inputPlaceHolder:"輸入鏈接地址",inputWithEnterPlaceHolder:"輸入鏈接地址並回車",openInNewWindow:"在新窗口打開",removeLink:"移除鏈接"},audioPlayer:{title:"播放音頻文件"},videoPlayer:{title:"播放視頻文件",embedTitle:"嵌入式媒體"},media:{image:"圖像",video:"視頻",audio:"音頻",embed:"嵌入式媒體"}},B={base:{remove:"Usuń",cancel:"Anuluj",confirm:"Potwierdź",inert:"Wstaw",width:"Szerokość",height:"Wysokość"},controls:{clear:"Wyczyść",undo:"Cofnij",redo:"Przywróć",fontSize:"Wielkość",color:"Kolor",textColor:"Kolor tekstu",tempColors:"Kolory",backgroundColor:"Tło",bold:"Pogrubienie",lineHeight:"Wysokość linii",letterSpacing:"Odstęp znaków",textIndent:"Wcięcie tekstu",increaseIndent:"Zwiększ wcięcie",decreaseIndent:"Zmniejsz wcięcie",italic:"Italiki",underline:"Podkreślenie",strikeThrough:"Przekreślenie",fontFamily:"Czcionka",textAlign:"Wyrównanie tekstu",alignLeft:"Do lewej",alignCenter:"Wycentruj",alignRight:"Do prawej",alignJustify:"Wyjustuj",floatLeft:"Do lewej",floatRight:"Do prawej",superScript:"Superskrypt",subScript:"Subskrypt",removeStyles:"Usuń stylowanie",headings:"Nagłówki",header:"Nagłówek",normal:"Normalny",orderedList:"Lista uporządkowana",unorderedList:"Lista nieuporządkowana",blockQuote:"Cytat",code:"Kod",link:"Link",unlink:"Usuń link",hr:"Linia pozioma",media:"Media",mediaLibirary:"Biblioteka mediów",emoji:"Emoji"},linkEditor:{inputPlaceHolder:"Adres URL",inputWithEnterPlaceHolder:"Wpisz adres URL i naciśnij Enter",openInNewWindow:"Otwórz w nowym oknie",removeLink:"Usuń link"},audioPlayer:{title:"Odtwórz audio"},videoPlayer:{title:"Odtwórz wideo",embedTitle:"Tytuł"},media:{image:"Obraz",video:"Wideo",audio:"Audio",embed:"Obiekt osadzony"}},O={en:I,zh:M,"zh-hant":T,pl:B},D=n(17),N=n.n(D),F=n(3),R=n(10),L=n(13),P=n.n(L),U=function(e){return function(t){return 83===t.keyCode&&(R.KeyBindingUtil.hasCommandModifier(t)||R.KeyBindingUtil.isCtrlKeyCommand(t))?"braft-save":e?e(t)||Object(R.getDefaultKeyBinding)(t):Object(R.getDefaultKeyBinding)(t)}},j={language:"zh",controls:["undo","redo","separator","font-size","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","separator","text-indent","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","media","link","split","hr","separator","clear","separator","fullscreen"],excludeControls:[],extendControls:[],extendAtomics:[],componentBelowControlBar:null,media:{pasteImage:!0,imagePasteLimit:5,image:!0,video:!0,audio:!0,uploadFn:null,validateFn:null,onBeforeDeselect:null,onDeselect:null,onBeforeSelect:null,onSelect:null,onBeforeRemove:null,onRemove:null,onCancel:null,onFileSelect:null,onBeforeInsert:null,onInsert:null,onChange:null,accepts:{image:"image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg",video:"video/mp4",audio:"audio/mp3"},externals:{audio:!0,video:!0,image:!0,embed:!0}},imageControls:["float-left","float-right","align-left","align-center","align-right","link","size","remove"],colors:["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#61a951","#16a085","#07a9fe","#003ba5","#8e44ad","#f32784","#c0392b","#d35400","#f39c12","#fdda00"],colorPicker:null,colorPickerTheme:"dark",colorPickerAutoHide:!0,codeTabIndents:2,textAligns:["left","center","right","justify"],textBackgroundColor:!0,defaultLinkTarget:"",letterSpacings:[0,1,2,3,4,5,6],lineHeights:[1,1.2,1.5,1.75,2,2.5,3,4],fontSizes:[12,14,16,18,20,24,28,30,32,36,40,48,56,64,72,96,120,144],fontFamilies:[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:'tahoma, arial, "Hiragino Sans GB", 宋体, sans-serif'}],converts:{unitExportFn:function(e,t){return"line-height"===t?e:"".concat(e,"px")}},emojis:["🤣","🙌","💚","💛","👏","😉","💯","💕","💞","💘","💙","💝","🖤","💜","❤️","😍","😻","💓","💗","😋","😇","😂","😹","😘","💖","😁","😀","🤞","😲","😄","😊","👍","😌","😃","😅","✌️","🤗","💋","😗","😽","😚","🤠","😙","😺","👄","😸","😏","😼","👌","😎","😆","😛","🙏","🤝","🙂","🤑","😝","😐","😑","🤤","😤","🙃","🤡","😶","😪","😴","😵","😓","👊","😦","😷","🤐","😜","🤓","👻","😥","🙄","🤔","🤒","🙁","😔","😯","☹️","☠️","😰","😩","😖","😕","😒","😣","😢","😮","😿","🤧","😫","🤥","😞","😬","👎","💀","😳","😨","🤕","🤢","😱","😭","😠","😈","😧","💔","😟","🙀","💩","👿","😡","😾","🖕"],stripPastedStyles:!1,className:"",style:{},controlBarClassName:"",controlBarStyle:{},contentClassName:"",contentStyle:{},draftProps:{},hooks:{},onChange:null,onFocus:null,onBlur:null,onTab:null,onDelete:null,onSave:null},_=n(20),H=function(e,t,n){if(n.editorProps.handleKeyCommand&&"handled"===n.editorProps.handleKeyCommand(e,t,n))return"handled";if("braft-save"===e)return n.editorProps.onSave&&n.editorProps.onSave(t),"handled";var r=n.editorProps,o=r.controls,i=r.excludeControls,a=(0!==o.indexOf("text-indent")||o.find(function(e){return"text-indent"===e.key}))&&-1===i.indexOf("text-indent"),l=t.getSelection().getStartOffset(),s=t.getSelection().getEndOffset(),c=0===l&&0===s;if("backspace"===e){if(n.editorProps.onDelete&&!1===n.editorProps.onDelete(t))return"handled";var d=F.ContentUtils.getSelectionBlockType(t);a&&c&&"code-block"!==d&&n.setValue(F.ContentUtils.decreaseSelectionIndent(t))}if("tab"===e){var u=F.ContentUtils.getSelectionBlockType(t);if("code-block"===u)return n.setValue(F.ContentUtils.insertText(t," ".repeat(n.editorProps.codeTabIndents))),"handled";if("atomic"!==u&&a&&c)return n.setValue(F.ContentUtils.increaseSelectionIndent(t)),"handled"}var f=F.ContentUtils.handleKeyCommand(t,e);return f?(n.setValue(f),"handled"):"not-handled"},z=function(e,t,n){if(n.editorProps.handleReturn&&"handled"===n.editorProps.handleReturn(e,t,n))return"handled";var r=F.ContentUtils.getSelectionBlock(t),o=r.getType();if("unordered-list-item"===o||"ordered-list-item"===o)return 0===r.getLength()?(n.setValue(F.ContentUtils.toggleSelectionBlockType(t,"unstyled")),"handled"):"not-handled";if("code-block"===o)return 13===e.which&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))?(n.setValue(F.ContentUtils.toggleSelectionBlockType(t,"unstyled")),"handled"):"not-handled";if("blockquote"===o&&13===e.which){if(!(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control")))return n.setValue(R.RichUtils.insertSoftNewline(t)),"handled";e.which=0}var i=Object(_.handleNewLine)(t,e);return i?(n.setValue(i),"handled"):"not-handled"},Q=function(e,t,n){return n.editorProps.handleBeforeInput&&"handled"===n.editorProps.handleBeforeInput(e,t,n)?"handled":"not-handled"},V=function(e,t,n){if(window&&window.__BRAFT_DRAGING__IMAGE__){var r=R.EditorState.forceSelection(n.state.editorState,e);return r=F.ContentUtils.insertMedias(r,[window.__BRAFT_DRAGING__IMAGE__.mediaData]),r=F.ContentUtils.removeBlock(r,window.__BRAFT_DRAGING__IMAGE__.block,r.getSelection()),window.__BRAFT_DRAGING__IMAGE__=null,n.setDraftProps({readOnly:!1}),n.setValue(r),"handled"}return t&&t.getText()?"not-handled":"handled"},W=function(e,t){var n=a()({},t.constructor.defaultProps.media,t.editorProps.media),r=n.pasteImage,o=n.imagePasteLimit;return r&&e.slice(0,o).forEach(function(e){e&&e.type.indexOf("image")>-1&&t.braftFinder.uploadImage(e,function(e){t.isLiving&&t.setValue(F.ContentUtils.insertMedias(t.state.editorState,[e]))})}),e[0]&&e[0].type.indexOf("image")>-1&&r?"handled":"not-handled"},G=function(e,t,n){return n.editorProps.handleDroppedFiles&&"handled"===n.editorProps.handleDroppedFiles(e,t,n)?"handled":W(t,n)},K=function(e,t){return t.editorProps.handlePastedFiles&&"handled"===t.editorProps.handlePastedFiles(e,t)?"handled":W(e,t)},Y=function(e,t,n,r){if(r.editorProps.handlePastedText&&"handled"===r.editorProps.handlePastedText(e,t,n,r))return"handled";if(!t||r.editorProps.stripPastedStyles)return!1;var o=F.ColorUtils.detectColorsFromHTMLString(t);return r.setState({tempColors:C()(r.state.tempColors).concat(C()(o)).filter(function(e){return-1===r.editorProps.colors.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t})},function(){r.setValue(F.ContentUtils.insertHTML(n,t,"paste"))}),"handled"},q=[],J=[],X=[],Z=[],$=[],ee=[],te=[],ne=[],re=[],oe=[],ie=[],ae=[],le=function(e,t){return t?e.map(function(e){return e.includeEditors||e.excludeEditors?e.includeEditors?-1!==e.includeEditors.indexOf(t)&&e.data:!!e.excludeEditors&&(-1===e.excludeEditors.indexOf(t)&&e.data):e.data}).filter(function(e){return e}):e.filter(function(e){return!e.includeEditors}).map(function(e){return e.data})},se=function(e){return le(X,e)},ce=function(e){return le(q,e)},de=function(e){return le(J,e)},ue=function(e){return le(Z,e)},fe=function(e){return le($,e)},pe=function(e){var t={};return le(ee,e).forEach(function(e){t[e.inlineStyleName]=e.styleMap}),t},me=function(e){return le(te,e)},ge=function(e,t){return function(n,r,o){return le(re,t).forEach(function(e){e.importer&&e.importer(n,r)&&(o=o.add(e.inlineStyleName))}),e?e(n,r,o):o}},he=function(e,t){return function(n){n=n.toUpperCase();var r=e?e(n):void 0;return r||(le(oe,t).find(function(e){if(e.inlineStyleName===n)return r=e.exporter,!0}),r)}},ye=function(e,t){return function(n,r,o,i){var a=e?e(n,r,o,i):null;return a||(le(ne,t).find(function(e){var t=e.importer?e.importer(n,r,i):null;return t&&(a=o(e.entityType,t.mutability||"MUTABLE",t.data||{})),!!t}),a)}},be=function(e,t){return function(n,r){var o=e?e(n,r):void 0;if(o)return o;var i=n.type.toUpperCase();return le(ne,t).find(function(e){if(e.entityType===i)return o=e.exporter?e.exporter(n,r):void 0,!0}),o}},ve=function(e,t){return function(n,r,o){var i=e?e(n,r,o):null;return i||(le(ie,t).find(function(e){var t=e.importer?e.importer(n,r,o):void 0;return t&&(i=t),!!t}),i)}},Ae=function(e,t){return function(n,r){var o=e?e(n,r):null;return o||(le(ae,t).find(function(e){var t=e.exporter?e.exporter(n,r):void 0;return t&&(o=t),!!t}),o)}},Ee=function e(t){if(t instanceof Array)return t.forEach(e),!1;if(!t||!t.type||"string"!=typeof t.type)return!1;var n=t.includeEditors,r=t.excludeEditors;if("control"===t.type)q.push({includeEditors:n,excludeEditors:r,data:t.control});else if("inline-style"===t.type){var o=t.name.toUpperCase();t.control&&q.push({includeEditors:n,excludeEditors:r,data:a()({key:o,type:"inline-style",command:o},t.control)}),t.style&&ee.push({includeEditors:n,excludeEditors:r,data:{inlineStyleName:o,styleMap:t.style}}),t.styleFn&&te.push({includeEditors:n,excludeEditors:r,data:{inlineStyleName:o,styleFn:t.styleFn}}),t.importer&&re.push({includeEditors:n,excludeEditors:r,data:{inlineStyleName:o,importer:t.importer}}),oe.push({includeEditors:n,excludeEditors:r,data:{inlineStyleName:o,exporter:t.exporter?t.exporter(t):x.a.createElement("span",{style:t.style})}})}else if("block-style"===t.type);else if("entity"===t.type){var i=t.name.toUpperCase();t.control&&q.push({includeEditors:n,excludeEditors:r,data:"function"==typeof t.control?t.control:a()({key:i,type:"entity",command:i,data:{mutability:t.mutability||"MUTABLE",data:t.data||{}}},t.control)}),ne.push({includeEditors:n,excludeEditors:r,data:{entityType:i,importer:t.importer,exporter:t.exporter}}),J.push({includeEditors:n,excludeEditors:r,data:{type:"entity",decorator:{key:i,component:t.component}}})}else if("block"===t.type){var l=t.name;t.renderMap&&Z.push({includeEditors:n,excludeEditors:r,data:{blockType:l,renderMap:t.renderMap}}),t.rendererFn&&$.push({includeEditors:n,excludeEditors:r,data:{blockType:l,rendererFn:t.rendererFn}}),t.importer&&ie.push({includeEditors:n,excludeEditors:r,data:{blockType:l,importer:t.importer}}),t.exporter&&ae.push({includeEditors:n,excludeEditors:r,data:{blockType:l,exporter:t.exporter}})}else if("atomic"===t.type);else if("decorator"===t.type){var s=t.decorator;s&&s.strategy&&s.component?J.push({includeEditors:n,excludeEditors:r,data:{type:"strategy",decorator:s}}):s&&s.getDecorations&&J.push({includeEditors:n,excludeEditors:r,data:{type:"class",decorator:s}})}else"prop-interception"===t.type&&X.push({includeEditors:n,excludeEditors:r,data:t.interceptor})},Se=function(e,t){var n=Object(L.Map)({atomic:{element:""},"code-block":{element:"code",wrapper:x.a.createElement("pre",{className:"braft-code-block"})}});return ue(e.editorId).forEach(function(t){"function"==typeof t.renderMap?n=n.merge(t.renderMap(e)):t.renderMap instanceof L.Map&&(n=n.merge(t.renderMap))}),t&&t instanceof L.Map&&(n=n.merge(t)),n=R.DefaultDraftBlockRenderMap.merge(n)},ke=n(11),Ce=n.n(ke),we=n(21),xe=n.n(we),Ie=(n(37),n(38),function(e){var t=e.active,n=e.onClick,r=e.className;return x.a.createElement("div",{onClick:function(){return n()},className:"bf-switch "+r+(t?" active":"")})}),Me=function(e,t){return[{key:"undo",title:e.controls.undo,text:x.a.createElement("i",{className:"bfi-undo"}),type:"editor-method",command:"undo"},{key:"redo",title:e.controls.redo,text:x.a.createElement("i",{className:"bfi-redo"}),type:"editor-method",command:"redo"},{key:"remove-styles",title:e.controls.removeStyles,text:x.a.createElement("i",{className:"bfi-format_clear"}),type:"editor-method",command:"removeSelectionInlineStyles"},{key:"hr",title:e.controls.hr,text:x.a.createElement("i",{className:"bfi-hr"}),type:"editor-method",command:"insertHorizontalLine"},{key:"bold",title:e.controls.bold,text:x.a.createElement("i",{className:"bfi-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:e.controls.italic,text:x.a.createElement("i",{className:"bfi-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:e.controls.underline,text:x.a.createElement("i",{className:"bfi-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:e.controls.strikeThrough,text:x.a.createElement("i",{className:"bfi-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:e.controls.superScript,text:x.a.createElement("i",{className:"bfi-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:e.controls.subScript,text:x.a.createElement("i",{className:"bfi-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:e.controls.headings,type:"headings"},{key:"blockquote",title:e.controls.blockQuote,text:x.a.createElement("i",{className:"bfi-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:e.controls.code,text:x.a.createElement("i",{className:"bfi-code"}),type:"block-type",command:"code-block"},{key:"list-ul",title:e.controls.unorderedList,text:x.a.createElement("i",{className:"bfi-list"}),type:"block-type",command:"unordered-list-item"},{key:"list-ol",title:e.controls.orderedList,text:x.a.createElement("i",{className:"bfi-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:e.controls.link,type:"link"},{key:"text-color",title:e.controls.color,type:"text-color"},{key:"line-height",title:e.controls.lineHeight,type:"line-height"},{key:"letter-spacing",title:e.controls.letterSpacing,type:"letter-spacing"},{key:"text-indent",title:e.controls.textIndent,type:"text-indent"},{key:"font-size",title:e.controls.fontSize,type:"font-size"},{key:"font-family",title:e.controls.fontFamily,type:"font-family"},{key:"text-align",title:e.controls.textAlign,type:"text-align"},{key:"media",title:e.controls.media,text:x.a.createElement("i",{className:"bfi-media"}),type:"media"},{key:"emoji",title:e.controls.emoji,text:x.a.createElement("i",{className:"bfi-emoji"}),type:"emoji"},{key:"clear",title:e.controls.clear,text:x.a.createElement("i",{className:"bfi-clear_all"}),type:"editor-method",command:"clearEditorContent"},{key:"fullscreen",title:t.state.isFullscreen?e.controls.exitFullscreen:e.controls.fullscreen,text:x.a.createElement("i",{className:t.state.isFullscreen?"bfi-fullscreen-exit":"bfi-fullscreen"}),type:"editor-method",command:"toggleFullscreen"},{key:"modal",type:"modal"},{key:"button",type:"button"},{key:"dropdown",type:"dropdown"},{key:"component",type:"component"}]},Te={"float-left":{text:x.a.createElement("span",{"data-float":"left"},""),command:"setImageFloat|left"},"float-right":{text:x.a.createElement("span",{"data-float":"right"},""),command:"setImageFloat|right"},"align-left":{text:x.a.createElement("span",{"data-align":"left"},""),command:"setImageAlignment|left"},"align-center":{text:x.a.createElement("span",{"data-align":"center"},""),command:"setImageAlignment|center"},"align-right":{text:x.a.createElement("span",{"data-align":"right"},""),command:"setImageAlignment|right"},size:{text:x.a.createElement("span",null,""),command:"toggleSizeEditor"},link:{text:x.a.createElement("span",null,""),command:"toggleLinkEditor"},remove:{text:x.a.createElement("span",null,""),command:"removeImage"}},Be=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"state",{toolbarVisible:!1,toolbarOffset:0,linkEditorVisible:!1,sizeEditorVisible:!1,tempLink:null,tempWidth:null,tempHeight:null}),S()(A()(A()(n)),"handleDragStart",function(){return window.__BRAFT_DRAGING__IMAGE__={block:n.props.block,mediaData:a()({type:"IMAGE"},n.props.mediaData)},n.setState({toolbarVisible:!1},function(){n.props.editor.setDraftProps({readOnly:!1})}),!0}),S()(A()(A()(n)),"handleDragEnd",function(){return window.__BRAFT_DRAGING__IMAGE__=null,!1}),S()(A()(A()(n)),"executeCommand",function(e){if("string"==typeof e){var t=e.split("|"),r=xe()(t,2),o=r[0],i=r[1];n[o]&&n[o](i)}else"function"==typeof e&&e(n.props.block,n.props.editorState)}),S()(A()(A()(n)),"removeImage",function(){n.props.editor.setValue(F.ContentUtils.removeBlock(n.props.editorState,n.props.block)),n.props.editor.setDraftProps({readOnly:!1})}),S()(A()(A()(n)),"toggleLinkEditor",function(){n.setState({linkEditorVisible:!n.state.linkEditorVisible,sizeEditorVisible:!1})}),S()(A()(A()(n)),"toggleSizeEditor",function(){n.setState({linkEditorVisible:!1,sizeEditorVisible:!n.state.sizeEditorVisible})}),S()(A()(A()(n)),"handleLinkInputKeyDown",function(e){13===e.keyCode&&n.confirmImageLink()}),S()(A()(A()(n)),"setImageLink",function(e){n.setState({tempLink:e.currentTarget.value})}),S()(A()(A()(n)),"confirmImageLink",function(){var e=n.state.tempLink;null!==e&&(n.props.editor.setValue(F.ContentUtils.setMediaData(n.props.editorState,n.props.entityKey,{link:e})),window.setImmediate(n.props.editor.forceRender))}),S()(A()(A()(n)),"handleSizeInputKeyDown",function(e){13===e.keyCode&&n.confirmImageSize()}),S()(A()(A()(n)),"setImageWidth",function(e){var t=e.currentTarget,r=t.value;r&&!isNaN(r)&&(r+="px"),n.setState({tempWidth:r})}),S()(A()(A()(n)),"setImageHeight",function(e){var t=e.currentTarget,r=t.value;r&&!isNaN(r)&&(r+="px"),n.setState({tempHeight:r})}),S()(A()(A()(n)),"confirmImageSize",function(){var e=n.state,t=e.tempWidth,r=e.tempHeight,o={};null!==t&&(o.width=t),null!==r&&(o.height=r),n.props.editor.setValue(F.ContentUtils.setMediaData(n.props.editorState,n.props.entityKey,o)),window.setImmediate(n.props.editor.forceRender)}),S()(A()(A()(n)),"setImageFloat",function(e){n.props.editor.setValue(F.ContentUtils.setMediaPosition(n.props.editorState,n.props.block,{float:e})),n.props.editor.setDraftProps({readOnly:!1})}),S()(A()(A()(n)),"setImageAlignment",function(e){n.props.editor.setValue(F.ContentUtils.setMediaPosition(n.props.editorState,n.props.block,{alignment:e})),n.props.editor.setDraftProps({readOnly:!1})}),S()(A()(A()(n)),"showToolbar",function(e){e.preventDefault(),n.state.toolbarVisible||n.setState({toolbarVisible:!0},function(){n.props.editor.setDraftProps({readOnly:!0}),n.setState({toolbarOffset:n.calcToolbarOffset()})})}),S()(A()(A()(n)),"hideToolbar",function(e){e.preventDefault(),n.setState({toolbarVisible:!1},function(){n.props.editor.setDraftProps({readOnly:!1}),n.props.editor.requestFocus()})}),n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mediaData,r=t.language,o=t.imageControls,i=this.state,a=i.toolbarVisible,l=i.toolbarOffset,s=i.linkEditorVisible,c=i.sizeEditorVisible,d=this.props.block.getData(),u=d.get("float"),f=d.get("alignment"),p=n.url,m=n.link,g=n.link_target,h=n.width,y=n.height,b=n.meta,v={},A=!1;u?f=null:"left"===f?(v.float="left",A=!0):"right"===f?(v.float="right",A=!0):"center"===f?v.textAlign="center":(v.float="left",A=!0);var E=o.map(function(t,r){return"string"==typeof t&&Te[t]?x.a.createElement("a",{className:"link"===t&&m?"active":"",key:r,href:"javascript:void(0);",onClick:function(){return e.executeCommand(Te[t].command)}},Te[t].text):t&&(t.render||t.text)?t.render?t.render(n):x.a.createElement("a",{key:r,href:"javascript:void(0);",onClick:function(){return t.onClick&&e.executeCommand(t.onClick)}},t.text):null});return x.a.createElement("div",{className:"bf-media"},x.a.createElement("div",{style:v,draggable:!0,onMouseEnter:this.showToolbar,onMouseMove:this.showToolbar,onMouseLeave:this.hideToolbar,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,ref:function(t){return e.mediaEmbederInstance=t},className:"bf-image"},a?x.a.createElement("div",{style:{marginLeft:l},ref:function(t){return e.toolbarElement=t},"data-float":u,"data-align":f,className:"bf-media-toolbar"},s?x.a.createElement("div",{className:"bf-image-link-editor"},x.a.createElement("div",{className:"editor-input-group"},x.a.createElement("input",{type:"text",placeholder:r.linkEditor.inputWithEnterPlaceHolder,onKeyDown:this.handleLinkInputKeyDown,onChange:this.setImageLink,defaultValue:m}),x.a.createElement("button",{type:"button",onClick:this.confirmImageLink},r.base.confirm)),x.a.createElement("div",{className:"switch-group"},x.a.createElement(Ie,{active:"_blank"===g,onClick:function(){return e.setImageLinkTarget(g)}}),x.a.createElement("label",null,r.linkEditor.openInNewWindow))):null,c?x.a.createElement("div",{className:"bf-image-size-editor"},x.a.createElement("div",{className:"editor-input-group"},x.a.createElement("input",{type:"text",placeholder:r.base.width,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageWidth,defaultValue:h}),x.a.createElement("input",{type:"text",placeholder:r.base.height,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageHeight,defaultValue:y}),x.a.createElement("button",{type:"button",onClick:this.confirmImageSize},r.base.confirm))):null,E,x.a.createElement("i",{style:{marginLeft:-1*l},className:"bf-media-toolbar-arrow"})):null,x.a.createElement("img",Ce()({ref:function(t){return e.imageElement=t},src:p,width:h,height:y},b))),A&&x.a.createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}},{key:"calcToolbarOffset",value:function(){if(!this.props.containerNode)return 0;var e=this.props.containerNode.getBoundingClientRect(),t=this.toolbarElement.getBoundingClientRect(),n=this.imageElement.getBoundingClientRect(),r=e.right-(n.right-n.width/2+t.width/2),o=n.left+n.width/2-t.width/2-e.left;return r<10?r-10:o<10?-1*o+10:0}},{key:"setImageLinkTarget",value:function(e){e="_blank"===e?"":"_blank",this.props.editor.setValue(F.ContentUtils.setMediaData(this.props.editorState,this.props.entityKey,{link_target:e})),window.setImmediate(this.props.editor.forceRender)}}]),t}(x.a.Component),Oe=(n(39),function(e){function t(){return d()(this,t),m()(this,h()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return x.a.createElement("div",null,this.props.children)}}]),t}(x.a.Component)),De=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"state",{toolbarVisible:!1}),S()(A()(A()(n)),"removeVideo",function(){n.props.editor.setValue(F.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),S()(A()(A()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),S()(A()(A()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.url,r=t.meta;return x.a.createElement("div",{className:"bf-video-wrap",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},x.a.createElement(Oe,null,x.a.createElement("video",{controls:!0,src:n,poster:r?r.poster||"":""})),e?x.a.createElement("div",{className:"bf-media-toolbar"},x.a.createElement("a",{onClick:this.removeVideo},"")):null)}}]),t}(x.a.Component),Ne=(n(40),function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"state",{toolbarVisible:!1}),S()(A()(A()(n)),"removeAudio",function(){n.props.editor.setValue(F.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),S()(A()(A()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),S()(A()(A()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.url;return x.a.createElement("div",{className:"bf-audio",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},x.a.createElement(Oe,null,x.a.createElement("audio",{controls:!0,src:n})),e?x.a.createElement("div",{className:"bf-media-toolbar"},x.a.createElement("a",{onClick:this.removeAudio},"")):null)}}]),t}(x.a.Component)),Fe=(n(41),function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"state",{toolbarVisible:!1}),S()(A()(A()(n)),"removeEmbed",function(){n.props.editor.setValue(F.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),S()(A()(A()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),S()(A()(A()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.url;return x.a.createElement("div",{className:"bf-embed",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},x.a.createElement(Oe,null,x.a.createElement("div",{className:"bf-embed-player",dangerouslySetInnerHTML:{__html:n}})),e?x.a.createElement("div",{className:"bf-media-toolbar"},x.a.createElement("a",{onClick:this.removeEmbed},"")):null)}}]),t}(x.a.Component)),Re=(n(42),function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"removeHorizontalLine",function(){n.props.editor.setValue(F.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),n}return b()(t,e),f()(t,[{key:"render",value:function(){return x.a.createElement("div",{className:"bf-hr"},x.a.createElement("div",{className:"bf-media-toolbar"},x.a.createElement("a",{onClick:this.removeHorizontalLine},"")))}}]),t}(x.a.Component)),Le=function(e){return function(t){var n=t.block.getEntityAt(0);if(!n)return null;var r=t.contentState.getEntity(n),o=r.getData(),i=r.getType(),l=a()({},e,{block:t.block,mediaData:o,entityKey:n});if("IMAGE"===i)return x.a.createElement(Be,l);if("AUDIO"===i)return x.a.createElement(Ne,l);if("VIDEO"===i)return x.a.createElement(De,l);if("EMBED"===i)return x.a.createElement(Fe,l);if("HR"===i)return x.a.createElement(Re,l);if(e.extendAtomics)for(var s=e.extendAtomics,c=0;c<s.length;c++)if(i===s[c].type){var d=s[c].component;return x.a.createElement(d,l)}return null}},Pe=function(e,t){return function(n){var r=n.getType(),o=null;return t&&(o=t(e)||null),o||(fe(e.editorId).find(function(t){if(t.blockType===r||t.blockType instanceof RegExp&&t.blockType.test(r))return o=t.rendererFn?t.rendererFn(e):null,!0}),o||("atomic"===r&&(o={component:Le(e),editable:!1}),o))}},Ue=function(e){return function(t){var n=t.getData()&&t.getData().get("textAlign"),r=t.getData()&&t.getData().get("textIndent"),o=t.getData()&&t.getData().get("float"),i="";return n&&(i="bfa-".concat(n)),r&&0!==r&&(i+=" bftd-".concat(r)),o&&(i+=" bff-".concat(o)),e&&(i+=e(t)||""),i}},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pe(e.editorId);return a()({SUPERSCRIPT:{position:"relative",top:"-8px",fontSize:"11px"},SUBSCRIPT:{position:"relative",bottom:"-8px",fontSize:"11px"}},n,t)},_e=function(e){return e.split("-")[1]},He=function(e,t){return function(n,r){var o={},i=t.fontFamilies,a=t.unitExportFn,l=t.customStyleFn;return me(e.editorId).forEach(function(e){o=e.styleFn?e.styleFn(n,r,o):o}),o=l?l(n,r,o):{},n.forEach(function(e){0===e.indexOf("COLOR-")?o.color="#"+_e(e):0===e.indexOf("BGCOLOR-")?o.backgroundColor="#"+_e(e):0===e.indexOf("FONTSIZE-")?o.fontSize=a(_e(e),"font-size","editor"):0===e.indexOf("LINEHEIGHT-")?o.lineHeight=a(_e(e),"line-height","editor"):0===e.indexOf("LETTERSPACING-")?o.letterSpacing=a(_e(e),"letter-spacing","editor"):0===e.indexOf("TEXTINDENT-")?o.textIndent=a(_e(e),"text-indent","editor"):0===e.indexOf("FONTFAMILY-")&&(o.fontFamily=(i.find(function(t){return t.name===_e(e)})||{}).family||"")}),o}},ze=n(18),Qe=n.n(ze),Ve=function(e){var t=e.children,n=e.entityKey,r=e.contentState,o=r.getEntity(n).getData(),i=o.href,a=o.target;return x.a.createElement("span",{className:"bf-link-wrap"},x.a.createElement("a",{onClick:function(e){return We(e,i)},className:"bf-link",href:i,target:a},t))},We=function(e,t){if(e.getModifierState("Shift")){var n=document.createElement("a");n.href=t,n.target="_blank",n.click()}};Qe.a.prototype.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this.decorators.forEach(function(r,o){r.getDecorations(e,t).forEach(function(e,t){e&&(e=o+"-"+e,n[t]=e)})}),P.a.List(n)};var Ge=[{type:"entity",decorator:{key:"LINK",component:Ve}}],Ke=function(e){return function(t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&r.getEntity(n).getType()===e},n)}},Ye=function(e){var t=de(e),n=Ge.concat(C()(t.filter(function(e){return"entity"===e.type}))),r=t.filter(function(e){return"strategy"===e.type}),o=t.filter(function(e){return"class"===e.type});return new Qe.a(C()(o.map(function(e){return e.decorator})).concat([new R.CompositeDecorator(r.map(function(e){return e.decorator})),new R.CompositeDecorator(n.map(function(e){return{strategy:Ke(e.decorator.key),component:e.decorator.component}}))]))},qe=Se,Je=Pe,Xe=Ue,Ze=je,$e=He,et=Ye,tt=(n(43),n(44),n(45),[]),nt=!1,rt=!1,ot={resolve:function(e){var t=F.BaseUtils.UniqueIndex();return tt.push({id:t,eventHandler:e}),t},unresolve:function(e){tt=tt.filter(function(t){return t.id!==e})}};nt||(window.addEventListener("resize",function(e){clearTimeout(rt),rt=setTimeout(function(){tt.map(function(t){"function"==typeof t.eventHandler&&t.eventHandler(e)}),rt=!1},100)}),nt=!0);var it=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"alive",!1),S()(A()(A()(n)),"responsiveResolveId",null),S()(A()(A()(n)),"dropDownHandlerElement",null),S()(A()(A()(n)),"dropDownContentElement",null),S()(A()(A()(n)),"componentId",n.props.componentId||"BRAFT-DROPDOWN-"+F.BaseUtils.UniqueIndex()),S()(A()(A()(n)),"state",{active:!1,offset:0}),n}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this;this.alive=!0,document.body.addEventListener("click",function(t){e.registerClickEvent(t)}),this.responsiveResolveId=ot.resolve(function(){e.fixDropDownPosition()})}},{key:"componentWillReceiveProps",value:function(e){!this.props.disabled&&e.disabled&&this.hide()}},{key:"componentDidUpdate",value:function(e){!e.active&&this.state.active&&this.fixDropDownPosition()}},{key:"componentWillUnmount",value:function(){var e=this;document.body.removeEventListener("click",function(t){e.registerClickEvent(t)}),this.alive=!1,ot.unresolve(this.responsiveResolveId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,r=t.offset,o=this.props,i=o.caption,a=o.htmlCaption,l=o.title,s=o.disabled,c=o.showArrow,d=o.arrowActive,u=o.className,f=o.children,p=o.theme;return s&&(n=!1),"light"===p&&(u=" light-theme "+u),x.a.createElement("div",{id:this.componentId,className:"bf-dropdown "+(n?"active ":"")+(s?"disabled ":"")+u},a?x.a.createElement("button",{type:"button",className:"dropdown-handler","data-title":l,"data-braft-component-id":this.componentId,dangerouslySetInnerHTML:a?{__html:a}:null,ref:function(t){return e.dropDownHandlerElement=t}}):x.a.createElement("button",{type:"button",className:"dropdown-handler","data-title":l,"data-braft-component-id":this.componentId,ref:function(t){return e.dropDownHandlerElement=t}},x.a.createElement("span",null,i),!1!==c?x.a.createElement("i",{className:"bfi-drop-down"}):null),x.a.createElement("div",{className:"dropdown-content",style:{marginLeft:r},ref:function(t){return e.dropDownContentElement=t}},x.a.createElement("i",{style:{marginLeft:-1*r},className:"dropdown-arrow"+(d?" active":"")}),x.a.createElement("div",{className:"dropdown-content-inner"},f)))}},{key:"fixDropDownPosition",value:function(){var e=this.props.containerNode.getBoundingClientRect(),t=this.dropDownHandlerElement.getBoundingClientRect(),n=this.dropDownContentElement.getBoundingClientRect(),r=0,o=t.right-t.width/2+n.width/2,i=t.left+t.width/2-n.width/2;o=e.right-o,i-=e.left,o<10?r=o-10:i<10&&(r=-1*i+10),r!==this.state.offset&&this.setState({offset:r})}},{key:"registerClickEvent",value:function(e){var t=this.props.autoHide,n=!1;e.target.dataset.braftComponentId===this.componentId?n=!!e.target.dataset.keepActive||!this.state.active:!1===t&&(n=this.state.active),this.alive&&this.setState({active:n})}},{key:"show",value:function(){this.setState({active:!0})}},{key:"hide",value:function(){this.setState({active:!1})}}]),t}(x.a.Component),at=function(e){return x.a.Fragment?x.a.createElement(x.a.Fragment,null,e.children):x.a.createElement("div",{className:"control-item-group"},e.children)},lt=function(e){function t(e){var n;return d()(this,t),n=m()(this,h()(t).call(this,e)),S()(A()(A()(n)),"dropDownComponent",null),S()(A()(A()(n)),"handeKeyDown",function(e){if(13===e.keyCode)return n.handleConfirm(),e.preventDefault(),!1}),S()(A()(A()(n)),"inputLink",function(e){n.setState({href:e.currentTarget.value})}),S()(A()(A()(n)),"setTarget",function(){n.setState({target:"_blank"===n.state.target?"":"_blank"})}),S()(A()(A()(n)),"handleCancel",function(){n.dropDownComponent.hide()}),S()(A()(A()(n)),"handleUnlink",function(){n.dropDownComponent.hide(),n.props.editor.setValue(F.ContentUtils.toggleSelectionLink(n.props.editorState,!1))}),S()(A()(A()(n)),"handleConfirm",function(){var e=n.state,t=e.href,r=e.target,o=n.props.hooks("toggle-link",{href:t,target:r})({href:t,target:r});if(n.dropDownComponent.hide(),n.props.editor.requestFocus(),!1===o)return!1;o&&("string"==typeof o.href&&(t=o.href),"string"==typeof o.target&&(r=o.target)),n.props.editor.setValue(F.ContentUtils.toggleSelectionLink(n.props.editorState,t,r))}),n.state={href:"",target:e.defaultLinkTarget||""},n}return b()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e){var t=F.ContentUtils.getSelectionEntityData(e.editorState,"LINK"),n=t.href,r=t.target;this.setState({href:n||"",target:void 0===r?e.defaultLinkTarget||"":r||""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.href,r=t.target,o=x.a.createElement("i",{className:"bfi-link"}),i=!F.ContentUtils.isSelectionCollapsed(this.props.editorState)&&"atomic"!==F.ContentUtils.getSelectionBlockType(this.props.editorState);return x.a.createElement(at,null,x.a.createElement(it,{key:0,caption:o,title:this.props.language.controls.link,autoHide:!1,containerNode:this.props.containerNode,showArrow:!1,disabled:!i,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown link-editor-dropdown"},x.a.createElement("div",{className:"bf-link-editor"},x.a.createElement("div",{className:"input-group"},x.a.createElement("input",{type:"text",value:n,spellCheck:!1,placeholder:this.props.language.linkEditor.inputPlaceHolder,onKeyDown:this.handeKeyDown,onChange:this.inputLink})),x.a.createElement("div",{className:"switch-group"},x.a.createElement(Ie,{active:"_blank"===r,onClick:this.setTarget}),x.a.createElement("label",null,this.props.language.linkEditor.openInNewWindow)),x.a.createElement("div",{className:"buttons"},x.a.createElement("a",{onClick:this.handleUnlink,className:"primary pull-left",href:"javascript:void(0);"},x.a.createElement("i",{className:"bfi-close"}),x.a.createElement("span",null,this.props.language.linkEditor.removeLink)),x.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"primary pull-right"},this.props.language.base.confirm),x.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"default pull-right"},this.props.language.base.cancel)))),x.a.createElement("button",{key:1,type:"button","data-title":this.props.language.controls.unlink,className:"control-item button",onClick:this.handleUnlink,disabled:!i||!n},x.a.createElement("i",{className:"bfi-link-off"})))}}]),t}(x.a.Component),st=(n(46),function(e){return[{key:"header-one",title:e.controls.header+" 1",text:x.a.createElement("h1",null,e.controls.header," 1"),type:"block-type",command:"header-one"},{key:"header-two",title:e.controls.header+" 2",text:x.a.createElement("h2",null,e.controls.header," 2"),type:"block-type",command:"header-two"},{key:"header-three",title:e.controls.header+" 3",text:x.a.createElement("h3",null,e.controls.header," 3"),type:"block-type",command:"header-three"},{key:"header-four",title:e.controls.header+" 4",text:x.a.createElement("h4",null,e.controls.header," 4"),type:"block-type",command:"header-four"},{key:"header-five",title:e.controls.header+" 5",text:x.a.createElement("h5",null,e.controls.header," 5"),type:"block-type",command:"header-five"},{key:"header-six",title:e.controls.header+" 6",text:x.a.createElement("h6",null,e.controls.header," 6"),type:"block-type",command:"header-six"},{key:"unstyled",title:e.controls.normal,text:e.controls.normal,type:"block-type",command:"unstyled"}]}),ct=function(e){var t=st(e.language),n=t.findIndex(function(t){return t.command===e.current}),r=t[n]?t[n].title:e.language.controls.normal;return x.a.createElement(it,{caption:r,containerNode:e.containerNode,title:e.language.controls.headings,arrowActive:0===n,className:"control-item dropdown headings-dropdown"},x.a.createElement("ul",{className:"menu"},t.map(function(t,n){var r=e.current===t.command;return x.a.createElement("li",{key:n,className:"menu-item"+(r?" active":""),onClick:function(){return e.onChange(t.command,t.type)}},t.text)})))},dt=(n(47),n(48),function(e){return x.a.createElement("div",{className:"bf-colors-wrap"},x.a.createElement("ul",{className:"bf-colors"},e.presetColors.map(function(t,n){var r=e.color&&t.toLowerCase()===e.color.toLowerCase()?"color-item active":"color-item";return x.a.createElement("li",{key:n,title:t,className:r,style:{color:t},"data-color":t.replace("#",""),onClick:function(t){e.onChange(t.currentTarget.dataset.color,!0)}})})))}),ut=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"state",{colorType:"color"}),S()(A()(A()(n)),"dropDownComponentId","BRAFT-DROPDOWN-"+F.BaseUtils.UniqueIndex()),S()(A()(A()(n)),"switchColorType",function(e){var t=e.currentTarget;n.setState({colorType:t.dataset.type})}),S()(A()(A()(n)),"toggleColor",function(e,t){if(e){var r=n.props.hooks("toggle-text-".concat(n.state.colorType),e)(e);if(!1===r)return!1;"string"==typeof r&&(e=r),"color"===n.state.colorType?n.props.editor.setValue(F.ContentUtils.toggleSelectionColor(n.props.editorState,e)):n.props.editor.setValue(F.ContentUtils.toggleSelectionBackgroundColor(n.props.editorState,e))}t&&(n.dropDownComponent.hide(),n.props.editor.requestFocus())}),n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this,t={},n=null,r=this.state.colorType;this.props.editorState.getCurrentInlineStyle().toJS().forEach(function(e){0===e.indexOf("COLOR-")&&(t.color="#"+e.split("-")[1],"color"===r&&(n=t.color)),0===e.indexOf("BGCOLOR-")&&(t.backgroundColor="#"+e.split("-")[1],"background-color"===r&&(n=t.backgroundColor))});var o=x.a.createElement("i",{style:t,className:"bfi-text-color"},x.a.createElement("span",{className:"path1"}),x.a.createElement("span",{className:"path2"})),i=this.props.colorPicker||dt;return x.a.createElement(it,{caption:o,title:this.props.language.controls.color,showArrow:!1,autoHide:this.props.autoHide,theme:this.props.theme,containerNode:this.props.containerNode,componentId:this.dropDownComponentId,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown text-color-dropdown"},x.a.createElement("div",{className:"bf-text-color-picker-wrap"},x.a.createElement("div",{className:"bf-color-switch-buttons",style:this.props.enableBackgroundColor?{}:{display:"none"}},x.a.createElement("button",{type:"button","data-type":"color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"color"===r?"active":"",onClick:this.switchColorType},this.props.language.controls.textColor),x.a.createElement("button",{type:"button","data-type":"background-color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"background-color"===r?"active":"",onClick:this.switchColorType},this.props.language.controls.backgroundColor)),x.a.createElement(i,{width:200,color:n,disableAlpha:!0,presetColors:this.props.colors,onChange:this.toggleColor})))}}]),t}(x.a.Component),ft=(n(49),function(e,t){var n=e.currentTarget.dataset.size,r=t.hooks("toggle-font-size",n)(n);if(!1===r)return!1;isNaN(n)||(n=r),t.editor.setValue(F.ContentUtils.toggleSelectionFontSize(t.editorState,n)),t.editor.requestFocus()}),pt=function(e){var t=null,n=null;return e.fontSizes.find(function(r){return!!F.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTSIZE-"+r)&&(t=r,n=r,!0)}),x.a.createElement(it,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.fontSize,className:"control-item dropdown bf-font-size-dropdown"},x.a.createElement("ul",{className:"bf-font-sizes"},e.fontSizes.map(function(t,r){return x.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){return ft(t,e)}},t)})))},mt=(n(50),function(e,t){var n=e.currentTarget.dataset.size,r=t.hooks("toggle-line-height",n)(n);if(!1===r)return!1;isNaN(r)||(n=r),t.editor.setValue(F.ContentUtils.toggleSelectionLineHeight(t.editorState,n)),t.editor.requestFocus()}),gt=function(e){var t=null,n=null;return e.lineHeights.find(function(r){return!!F.ContentUtils.selectionHasInlineStyle(e.editorState,"LINEHEIGHT-"+r)&&(t=r,n=r,!0)}),x.a.createElement(it,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.lineHeight,className:"control-item dropdown bf-line-height-dropdown"},x.a.createElement("ul",{className:"bf-line-heights"},e.lineHeights.map(function(t,r){return x.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){return mt(t,e)}},t)})))},ht=(n(51),function(e,t){var n=e.currentTarget.dataset.name,r=t.hooks("toggle-font-family",n)(n,t.fontFamilies);if(!1===r)return!1;"string"==typeof r&&(n=r),t.editor.setValue(F.ContentUtils.toggleSelectionFontFamily(t.editorState,n)),t.editor.requestFocus()}),yt=function(e){var t=null,n=null;return e.fontFamilies.find(function(r,o){return!!F.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTFAMILY-"+r.name)&&(t=r.name,n=o,!0)}),x.a.createElement(it,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.fontFamily,arrowActive:0===n,className:"control-item dropdown font-family-dropdown"},x.a.createElement("ul",{className:"menu"},e.fontFamilies.map(function(t,r){return x.a.createElement("li",{key:r,className:"menu-item "+(r===n?"active":""),"data-name":t.name,onClick:function(t){return ht(t,e)}},x.a.createElement("span",{style:{fontFamily:t.family}},t.name))})))},bt=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"state",{currentAlignment:void 0}),S()(A()(A()(n)),"setAlignment",function(e){var t=e.currentTarget.dataset.alignment,r=n.props.hooks("toggle-text-alignment",t)(t);n.props.textAligns.indexOf(r)>-1&&(t=r),n.props.editor.setValue(F.ContentUtils.toggleSelectionAlignment(n.props.editorState,t)),n.props.editor.requestFocus()}),n}return b()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentAlignment:F.ContentUtils.getSelectionBlockData(e.editorState,"textAlign")})}},{key:"render",value:function(){var e=this,t=[this.props.language.controls.alignLeft,this.props.language.controls.alignCenter,this.props.language.controls.alignRight,this.props.language.controls.alignJustify];return x.a.createElement(at,null,this.props.textAligns.map(function(n,r){return x.a.createElement("button",{type:"button",key:r,"data-title":t[r],"data-alignment":n,className:"control-item button "+(n===e.state.currentAlignment?"active":null),onClick:e.setAlignment},x.a.createElement("i",{className:"bfi-align-"+n}))}))}}]),t}(x.a.Component),vt=(n(52),function(e,t){var n=e.currentTarget.dataset.emoji,r=t.hooks("insert-emoji",n)(n);if(!1===r)return!1;"string"==typeof r&&(n=r),t.editor.setValue(F.ContentUtils.insertText(t.editorState,n)),t.editor.requestFocus()}),At=function(e){return x.a.createElement(it,{caption:e.defaultCaption,showArrow:!1,containerNode:e.containerNode,title:e.language.controls.emoji,className:"control-item dropdown bf-emoji-dropdown"},x.a.createElement("div",{className:"bf-emojis-wrap"},x.a.createElement("ul",{className:"bf-emojis"},e.emojis.map(function(t,n){return x.a.createElement("li",{key:n,"data-emoji":t,onClick:function(t){return vt(t,e)}},t)}))))},Et=(n(53),function(e,t){var n=e.currentTarget.dataset.size,r=t.hooks("toggle-letter-spacing",n)(n);if(!1===r)return!1;isNaN(r)||(n=r),t.editor.setValue(F.ContentUtils.toggleSelectionLetterSpacing(t.editorState,n)),t.editor.requestFocus()}),St=function(e){var t=null,n=null;return e.letterSpacings.find(function(r){return!!F.ContentUtils.selectionHasInlineStyle(e.editorState,"LETTERSPACING-"+r)&&(t=r,n=r,!0)}),x.a.createElement(it,{caption:t||e.defaultCaption,containerNode:e.containerNode,title:e.language.controls.letterSpacing,className:"control-item dropdown bf-letter-spacing-dropdown"},x.a.createElement("ul",{className:"bf-letter-spacings"},e.letterSpacings.map(function(t,r){return x.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){return Et(t,e)}},t)})))},kt=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"state",{currentIndent:0}),S()(A()(A()(n)),"increaseIndent",function(){n.props.editor.setValue(F.ContentUtils.increaseSelectionIndent(n.props.editorState)),n.props.editor.requestFocus()}),S()(A()(A()(n)),"decreaseIndent",function(){n.props.editor.setValue(F.ContentUtils.decreaseSelectionIndent(n.props.editorState)),n.props.editor.requestFocus()}),n}return b()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentIndent:F.ContentUtils.getSelectionBlockData(e.editorState,"textIndent")||0})}},{key:"render",value:function(){var e=this.state.currentIndent,t=this.props.language;return x.a.createElement(at,null,x.a.createElement("button",{key:0,type:"button","data-title":t.controls.increaseIndent,disabled:e>=6,className:"control-item button button-indent-increase".concat(e>0&&e<6?" active":""),onClick:this.increaseIndent},x.a.createElement("i",{className:"bfi-indent-increase"})),x.a.createElement("button",{key:1,type:"button","data-title":t.controls.decreaseIndent,disabled:e<=0,className:"control-item button button-indent-decrease",onClick:this.decreaseIndent},x.a.createElement("i",{className:"bfi-indent-decrease"})))}}]),t}(x.a.Component),Ct=(n(54),n(15)),wt=n.n(Ct),xt=function(e){function t(e){var n;return d()(this,t),n=m()(this,h()(t).call(this,e)),S()(A()(A()(n)),"handleTransitionEnd",function(){if(!n.rootElement||!n.rootElement.classList)return!1;n.rootElement.classList.contains("active")||wt.a.unmountComponentAtNode(n.rootElement)&&n.rootElement.parentNode.removeChild(n.rootElement)}),S()(A()(A()(n)),"handleCancel",function(){n.props.closeOnCancel&&n.close(),n.props.onCancel&&n.props.onCancel()}),S()(A()(A()(n)),"handleConfirm",function(){n.props.closeOnConfirm&&n.close(),n.props.onConfirm&&n.props.onConfirm()}),S()(A()(A()(n)),"handleMaskClick",function(){n.props.closeOnBlur&&n.close(),n.props.onBlue&&n.props.onBlue()}),S()(A()(A()(n)),"close",function(){n.unrenderComponent(),n.props.onClose&&n.props.onClose()}),n.active=!1,n.componentId="BRAFT-MODAL-"+F.BaseUtils.UniqueIndex(),n}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.visible&&(this.active=!0,this.renderComponent(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.props.visible&&!e.visible?this.unrenderComponent():(this.props.visible||e.visible)&&(this.active=!0,this.renderComponent(e))}},{key:"render",value:function(){return null}},{key:"unrenderComponent",value:function(){this.active=!1,this.activeId&&window.clearImmediate(this.activeId),this.rootElement&&this.rootElement.classList&&this.rootElement.classList.remove("active")}},{key:"renderComponent",value:function(e){var t=this;if(!this.active)return!1;var n=e.title,r=e.className,o=e.width,i=e.height,a=e.children,l=e.component,s=e.confirmable,c=e.showFooter,d=e.showCancel,u=e.showConfirm,f=e.showClose,p=e.cancelText,m=e.confirmText,g=e.bottomText,h=e.language;void 0===d&&(d=!0),void 0===f&&(f=!0),void 0===u&&(u=!0),void 0===c&&(c=!0);var y=x.a.createElement("div",{className:"bf-modal "+(r||"")},x.a.createElement("div",{className:"bf-modal-mask",onClick:this.handleMaskClick}),x.a.createElement("div",{onTransitionEnd:this.handleTransitionEnd,style:{width:o,height:i},className:"bf-modal-content"},x.a.createElement("div",{className:"bf-modal-header"},x.a.createElement("h3",{className:"bf-modal-caption"},n),f&&x.a.createElement("button",{type:"button",onClick:this.close,className:"bf-modal-close-button"},x.a.createElement("i",{className:"bfi-close"}))),x.a.createElement("div",{className:"bf-modal-body"},a||l),c?x.a.createElement("div",{className:"bf-modal-footer"},x.a.createElement("div",{className:"bf-modal-addon-text"},g),x.a.createElement("div",{className:"bf-modal-buttons"},d&&x.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"bf-modal-cancel"},p||h.base.cancel),u&&x.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"bf-modal-confirm "+(s?"":"disabled")},m||h.base.confirm))):null));this.rootElement=document.querySelector("#"+this.componentId),this.rootElement||(this.rootElement=document.createElement("div"),this.rootElement.id=this.componentId,this.rootElement.className="bf-modal-root",document.body.appendChild(this.rootElement)),wt.a.render(y,this.rootElement),this.activeId=window.setImmediate(function(){t.rootElement.classList.add("active")})}}]),t}(x.a.Component);S()(xt,"defaultProps",{showFooter:!0,closeOnBlur:!0});var It=function(e){var t=document.createElement("div");t.style.display="none",document.body.appendChild(t);var n=function(){wt.a.unmountComponentAtNode(t)&&t.parentNode.removeChild(t)},r=function(){n(),e.onConfirm&&e.onConfirm()},o=function(){n(),e.onCancel&&e.onCancel()},i=function(){n(),e.onClose&&e.onClose()},a={onConfirm:r,onCancel:o,onClose:i,visible:!0,closeOnConfirm:!0,closeOnCancel:!0},l=wt.a.render(x.a.createElement(xt,Ce()({},e,a)),t);return l.destroy=n,l.update=l.renderComponent,l},Mt={"inline-style":"toggle-inline-style","block-type":"change-block-type","editor-method":"exec-editor-command"},Tt=function(e,t,n,r){return n=n.map(function(t){return"function"==typeof t?t(e):t}),r=r.map(function(t){return"function"==typeof t?t(e):t}),0===n.length&&0===r.length?t:t.map(function(e){return r.find(function(t){return t.replace===(e.key||e)})||n.find(function(t){return t.replace===(e.key||e)})||e}).concat(n.length?"separator":"").concat(n.filter(function(e){return!e.replace})).concat(r.filter(function(e){return!e.replace}))},Bt=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=m()(this,(e=h()(t)).call.apply(e,[this].concat(o))),S()(A()(A()(n)),"allControls",[]),S()(A()(A()(n)),"mediaLibiraryModal",null),S()(A()(A()(n)),"extendedModals",{}),S()(A()(A()(n)),"openBraftFinder",function(){if(!n.props.braftFinder||!n.props.braftFinder.ReactComponent)return!1;if(!1===n.props.hooks("open-braft-finder")())return!1;var e=n.props.media,t=n.props.braftFinder.ReactComponent;n.mediaLibiraryModal=It({title:n.props.language.controls.mediaLibirary,language:n.props.language,width:640,showFooter:!1,component:x.a.createElement(t,{accepts:e.accepts,onCancel:n.closeBraftFinder,onInsert:n.insertMedias,onChange:e.onChange,externals:e.externals,onBeforeSelect:n.bindBraftFinderHook("select-medias"),onBeforeDeselect:n.bindBraftFinderHook("deselect-medias"),onBeforeRemove:n.bindBraftFinderHook("remove-medias"),onBeforeInsert:n.bindBraftFinderHook("insert-medias"),onFileSelect:n.bindBraftFinderHook("select-files")})})}),S()(A()(A()(n)),"bindBraftFinderHook",function(e){return function(){return n.props.hooks(e,arguments.length<=0?void 0:arguments[0]).apply(void 0,arguments)}}),S()(A()(A()(n)),"insertMedias",function(e){n.props.editor.setValue(F.ContentUtils.insertMedias(n.props.editorState,e)),n.props.editor.requestFocus(),n.props.media.onInsert&&n.props.media.onInsert(e),n.closeBraftFinder()}),S()(A()(A()(n)),"closeBraftFinder",function(){n.props.media.onCancel&&n.props.media.onCancel(),n.mediaLibiraryModal&&n.mediaLibiraryModal.close()}),n}return b()(t,e),f()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props.language;this.allControls.forEach(function(n){"modal"===n.type&&n.modal&&n.modal.id&&e.extendedModals[n.modal.id]&&e.extendedModals[n.modal.id].update(a()({},n.modal,{language:t}))})}},{key:"getControlItemClassName",value:function(e){var t="control-item button",n=e.type,r=e.command;return"inline-style"===n&&F.ContentUtils.selectionHasInlineStyle(this.props.editorState,r)?t+=" active":"block-type"===n&&F.ContentUtils.getSelectionBlockType(this.props.editorState)===r?t+=" active":"entity"===n&&F.ContentUtils.getSelectionEntityType(this.props.editorState)===r&&(t+=" active"),t}},{key:"applyControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.props.hooks(Mt[t]||t,e)(e);if(!1===r)return!1;"string"==typeof r&&(e=r),"inline-style"===t?this.props.editor.setValue(F.ContentUtils.toggleSelectionInlineStyle(this.props.editorState,e)):"block-type"===t?this.props.editor.setValue(F.ContentUtils.toggleSelectionBlockType(this.props.editorState,e)):"entity"===t?this.props.editor.setValue(F.ContentUtils.toggleSelectionEntity(this.props.editorState,{type:e,mutability:n.mutability||"MUTABLE",data:n.data||{}})):"editor-method"===t&&this.props.editor[e]&&this.props.editor[e]()}},{key:"render",value:function(){var e=this,t=this.props,n=t.editor,r=t.editorId,o=t.editorState,i=t.className,l=t.style,s=t.controls,c=t.media,d=t.extendControls,u=t.language,f=t.hooks,p=t.colors,m=t.colorPicker,g=t.colorPickerTheme,h=t.colorPickerAutoHide,y=t.fontSizes,b=t.fontFamilies,v=t.emojis,A=t.containerNode,E=t.lineHeights,S=t.letterSpacings,k=t.textAligns,C=t.textBackgroundColor,w=t.defaultLinkTarget,I=F.ContentUtils.getSelectionBlockType(o),M={editor:n,editorId:r,editorState:o,language:u,containerNode:A,hooks:f},T=[],B=Me(u,n),O=ce(r),D=Tt(M,s,O,d);return this.allControls=D,x.a.createElement("div",{className:"bf-controlbar ".concat(i||""),style:l,onMouseDown:this.preventDefault},D.map(function(t,n){var r="string"==typeof t?t:t.key;if("string"!=typeof r)return null;if(T.indexOf(r)>-1)return null;if("separator"===r.toLowerCase())return x.a.createElement("span",{key:n,className:"separator-line"});var i=B.find(function(e){return e.key.toLowerCase()===r.toLowerCase()});if("string"!=typeof t&&(i=a()({},i,t)),!i)return null;if(T.push(r),"headings"===i.type)return x.a.createElement(ct,Ce()({key:n,current:I,onChange:function(t){return e.applyControl(t,"block-type")}},M));if("text-color"===i.type)return x.a.createElement(ut,Ce()({key:n,colors:p,colorPicker:m,theme:g,autoHide:h,enableBackgroundColor:C},M));if("font-size"===i.type)return x.a.createElement(pt,Ce()({key:n,fontSizes:y,defaultCaption:i.title},M));if("line-height"===i.type)return x.a.createElement(gt,Ce()({key:n,lineHeights:E,defaultCaption:i.title},M));if("letter-spacing"===i.type)return x.a.createElement(St,Ce()({key:n,letterSpacings:S,defaultCaption:i.title},M));if("text-indent"===i.type)return x.a.createElement(kt,Ce()({key:n,defaultCaption:i.title},M));if("font-family"===i.type)return x.a.createElement(yt,Ce()({key:n,fontFamilies:b,defaultCaption:i.title},M));if("emoji"===i.type)return x.a.createElement(At,Ce()({key:n,emojis:v,defaultCaption:i.text},M));if("link"===i.type)return x.a.createElement(lt,Ce()({key:n,defaultLinkTarget:w},M));if("text-align"===i.type)return x.a.createElement(bt,Ce()({key:n,textAligns:k},M));if("media"===i.type)return c.image||c.video||c.audio?x.a.createElement("button",{type:"button",key:n,"data-title":i.title,className:"control-item media button",onClick:e.openBraftFinder},i.text):null;if("dropdown"===i.type)return x.a.createElement(it,Ce()({key:n,className:"control-item extend-control-item dropdown ".concat(i.className||""),caption:i.text,htmlCaption:i.html,showArrow:i.showArrow,title:i.title,arrowActive:i.arrowActive,theme:i.theme,autoHide:i.autoHide,disabled:i.disabled,ref:i.ref},M),i.component);if("modal"===i.type)return x.a.createElement("button",{type:"button",key:n,"data-title":i.title,className:"control-item extend-control-item button ".concat(i.className||""),dangerouslySetInnerHTML:i.html?{__html:i.html}:null,onClick:function(t){i.modal&&i.modal.id&&(e.extendedModals[i.modal.id]?(e.extendedModals[i.modal.id].active=!0,e.extendedModals[i.modal.id].update(a()({},i.modal,{language:u}))):(e.extendedModals[i.modal.id]=It(a()({},i.modal,{language:u})),i.modal.onCreate&&i.modal.onCreate(e.extendedModals[i.modal.id]))),i.onClick&&i.onClick(t)}},i.html?null:i.text);if("component"===i.type)return x.a.createElement("div",{key:n,className:"component-wrapper ".concat(i.className||"")},i.component);if("button"===i.type)return x.a.createElement("button",{type:"button",key:n,"data-title":i.title,className:"control-item button ".concat(i.className||""),dangerouslySetInnerHTML:i.html?{__html:i.html}:null,onClick:function(e){return i.onClick&&i.onClick(e)}},i.html?null:i.text);if(i){var l=!1;return"undo"===i.command?l=0===o.getUndoStack().size:"redo"===i.command&&(l=0===o.getRedoStack().size),x.a.createElement("button",{type:"button",key:n,disabled:l,"data-title":i.title,className:e.getControlItemClassName({type:i.type,command:i.command}),onClick:function(){return e.applyControl(i.command,i.type,i.data)}},i.text)}}))}},{key:"preventDefault",value:function(e){var t=e.target.tagName.toLowerCase();"input"===t||"label"===t||e.preventDefault()}}]),t}(x.a.Component),Ot=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t]||function(){return n}}},Dt=function(e,t){return e.filter(function(e){return-1===t.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t})},Nt=function(e,t){return C()(e.controls).concat(C()(e.extendControls)).find(function(e){return e===t||e.key===t})&&-1===e.excludeControls.indexOf(t)},Ft=function(e){var t=a()({},j.converts,e.converts,{fontFamilies:e.fontFamilies});return t.styleImportFn=ge(t.styleImportFn,e.id),t.styleExportFn=he(t.styleExportFn,e.id),t.entityImportFn=ye(t.entityImportFn,e.id),t.entityExportFn=be(t.entityExportFn,e.id),t.blockImportFn=ve(t.blockImportFn,e.id),t.blockExportFn=Ae(t.blockExportFn,e.id),t},Rt=function(e){function t(e){var n;d()(this,t),n=m()(this,h()(t).call(this,e)),S()(A()(A()(n)),"onChange",function(e,t){e.convertOptions||e.setConvertOptions(Ft(n.editorProps)),n.setState({editorState:e},function(){n.props.onChange&&n.props.onChange(e),t&&t(e)})}),S()(A()(A()(n)),"getDraftInstance",function(){return n.draftInstance}),S()(A()(A()(n)),"getFinderInstance",function(){return n.braftFinder}),S()(A()(A()(n)),"getValue",function(){return n.state.editorState}),S()(A()(A()(n)),"setValue",function(e,t){return n.onChange(e,t)}),S()(A()(A()(n)),"forceRender",function(){return n.setValue(F.ContentUtils.createEditorState(n.state.editorState.getCurrentContent(),n.editorDecorators))}),S()(A()(A()(n)),"onTab",function(e){"handled"===H("tab",n.state.editorState,A()(A()(n)))&&e.preventDefault(),n.editorProps.onTab&&n.editorProps.onTab(e)}),S()(A()(A()(n)),"onFocus",function(){n.isFocused=!0,n.editorProps.onFocus&&n.editorProps.onFocus(n.state.editorState)}),S()(A()(A()(n)),"onBlur",function(){n.isFocused=!1,n.editorProps.onBlur&&n.editorProps.onBlur(n.state.editorState)}),S()(A()(A()(n)),"requestFocus",function(){setTimeout(function(){return n.draftInstance.focus()},0)}),S()(A()(A()(n)),"handleKeyCommand",function(e,t){return H(e,t,A()(A()(n)))}),S()(A()(A()(n)),"handleReturn",function(e,t){return z(e,t,A()(A()(n)))}),S()(A()(A()(n)),"handleBeforeInput",function(e,t){return Q(e,t,A()(A()(n)))}),S()(A()(A()(n)),"handleDrop",function(e,t){return V(e,t,A()(A()(n)))}),S()(A()(A()(n)),"handleDroppedFiles",function(e,t){return G(e,t,A()(A()(n)))}),S()(A()(A()(n)),"handlePastedFiles",function(e){return K(e,A()(A()(n)))}),S()(A()(A()(n)),"handlePastedText",function(e,t,r){return Y(e,t,r,A()(A()(n)))}),S()(A()(A()(n)),"undo",function(){n.setValue(F.ContentUtils.undo(n.state.editorState))}),S()(A()(A()(n)),"redo",function(){n.setValue(F.ContentUtils.redo(n.state.editorState))}),S()(A()(A()(n)),"removeSelectionInlineStyles",function(){n.setValue(F.ContentUtils.removeSelectionInlineStyles(n.state.editorState))}),S()(A()(A()(n)),"insertHorizontalLine",function(){n.setValue(F.ContentUtils.insertHorizontalLine(n.state.editorState))}),S()(A()(A()(n)),"clearEditorContent",function(){n.setValue(F.ContentUtils.clear(n.state.editorState),function(e){n.setValue(F.ContentUtils.toggleSelectionIndent(e,0))})}),S()(A()(A()(n)),"toggleFullscreen",function(e){n.setState({isFullscreen:void 0!==e?e:!n.state.isFullscreen},function(){n.editorProps.onFullscreen&&n.editorProps.onFullscreen(n.state.isFullscreen)})}),S()(A()(A()(n)),"setEditorContainerNode",function(e){n.setState({containerNode:e},n.forceRender)}),n.editorProps=n.getEditorProps(e),n.editorDecorators=et(n.editorProps.id),n.isFocused=!1,n.isLiving=!1,n.braftFinder=null,n.valueInitialized=!(!n.props.defaultValue&&!n.props.value);var r=F.ContentUtils.isEditorState(n.props.defaultValue||n.props.value)?n.props.defaultValue||n.props.value:F.ContentUtils.createEmptyEditorState(n.editorDecorators);return r.setConvertOptions(Ft(n.editorProps)),n.state={containerNode:null,tempColors:[],editorState:r,isFullscreen:!1,draftProps:{}},n}return b()(t,e),f()(t,[{key:"getEditorProps",value:function(e){var t=this;e=e||this.props;var n=e,r=(n.value,n.defaultValue,n.onChange,s()(n,["value","defaultValue","onChange"])),o=se(r.id);if(0===o.length)return r;var i=Object(L.Map)(r);return o.forEach(function(e){i=i.merge(Object(L.Map)(e(i.toJS(),t)||{}))}),i.toJS()}},{key:"componentWillMount",value:function(){if(Nt(this.editorProps,"media")){var e=this.editorProps,t=e.language,n=e.media,r=a()({},j.media,n),o=r.uploadFn,i=r.validateFn,l=r.items;this.braftFinder=new N.a({items:l,language:t,uploader:o,validator:i}),this.forceUpdate()}}},{key:"componentDidMount",value:function(){var e=this;this.editorProps=this.getEditorProps();var t=this.props.value;if(F.ContentUtils.isEditorState(t)){var n=F.ColorUtils.detectColorsFromDraftState(t.toRAW(!0));t.setConvertOptions(Ft(this.editorProps)),this.setState({tempColors:Dt(C()(this.state.tempColors).concat(C()(n)),this.editorProps.colors),editorState:t},function(){e.props.onChange&&e.props.onChange(t)})}this.isLiving=!0}},{key:"componentDidUpdate",value:function(e,t){t.editorState!==this.state.editorState&&this.state.editorState.setConvertOptions(Ft(this.editorProps))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.editorProps=this.getEditorProps(e);var n=e.value,r=this.editorProps,o=r.media,i=r.language,l=this.getEditorProps();if(!Nt(l,"media")&&Nt(this.editorProps,"media")&&!this.braftFinder){var s=a()({},j.media,o),c=s.uploadFn,d=s.validateFn,u=s.items;this.braftFinder=new N.a({items:u,language:i,uploader:c,validator:d}),this.forceUpdate()}o&&o.items&&this.braftFinder&&this.braftFinder.setItems(o.items);var f;if(!this.valueInitialized&&void 0===this.props.defaultValue&&F.ContentUtils.isEditorState(e.defaultValue)?f=e.defaultValue:F.ContentUtils.isEditorState(n)&&(f=n),f)if(f&&f!==this.state.editorState){var p=F.ColorUtils.detectColorsFromDraftState(f.toRAW(!0));f.setConvertOptions(Ft(this.editorProps)),this.setState({tempColors:Dt(C()(this.state.tempColors).concat(C()(p)),l.colors),editorState:f},function(){t.props.onChange&&t.props.onChange(f)})}else this.setState({editorState:f})}},{key:"componentWillUnmount",value:function(){this.isLiving=!1,this.controlBarInstance&&this.controlBarInstance.closeBraftFinder()}},{key:"setDraftProps",value:function(e){this.setState({draftProps:a()({},this.state.draftProps,e)})}},{key:"render",value:function(){var e=this,t=this.editorProps,n=t.id,r=t.controls,o=t.excludeControls,i=t.extendControls,l=t.readOnly,s=t.disabled,c=t.media,d=t.language,u=t.colors,f=t.colorPicker,p=t.colorPickerTheme,m=t.colorPickerAutoHide,g=t.hooks,h=t.fontSizes,y=t.fontFamilies,b=t.emojis,v=t.placeholder,A=t.imageControls,E=t.lineHeights,S=t.letterSpacings,k=t.textAligns,w=t.textBackgroundColor,I=t.defaultLinkTarget,M=t.extendAtomics,T=t.className,B=t.style,D=t.controlBarClassName,N=t.controlBarStyle,F=t.contentClassName,L=t.contentStyle,P=t.stripPastedStyles,_=t.componentBelowControlBar,H=this.state.isFullscreen;g=Ot(g),r=r.filter(function(e){return-1===o.indexOf(e)}),d=("function"==typeof d?d(O,"braft-editor"):O[d])||O[j.language];var z=c&&c.externals?a()({},j.media.externals,c.externals):j.media.externals,Q=c&&c.accepts?a()({},j.media.accepts,c.accepts):j.media.accepts;c=a()({},j.media,c,{externalMedias:z,accepts:Q}),c.uploadFn||(c.video=!1,c.audio=!1);var V={editor:this,editorState:this.state.editorState,braftFinder:this.braftFinder,ref:function(t){return e.controlBarInstance=t},containerNode:this.state.containerNode,className:D,style:N,colors:C()(u).concat(C()(this.state.tempColors)),colorPicker:f,colorPickerTheme:p,colorPickerAutoHide:m,hooks:g,editorId:n,media:c,controls:r,language:d,extendControls:i,fontSizes:h,fontFamilies:y,emojis:b,lineHeights:E,letterSpacings:S,textAligns:k,textBackgroundColor:w,defaultLinkTarget:I},W=this.state.editorState.convertOptions.unitExportFn,G={editor:this,editorId:n,hooks:g,editorState:this.state.editorState,containerNode:this.state.containerNode,imageControls:A,language:d,extendAtomics:M},K=Je(G,this.editorProps.blockRendererFn),Y=qe(G,this.editorProps.blockRenderMap),q=Xe(this.editorProps.blockStyleFn),J=Ze(G,this.editorProps.customStyleMap),X=$e(G,{fontFamilies:y,unitExportFn:W,customStyleFn:this.editorProps.customStyleFn}),Z=U(this.editorProps.keyBindingFn),$=a()({ref:function(t){e.draftInstance=t},editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleDrop:this.handleDrop,handleDroppedFiles:this.handleDroppedFiles,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,onChange:this.onChange,onTab:this.onTab,onFocus:this.onFocus,onBlur:this.onBlur,readOnly:s||l,blockRenderMap:Y,blockRendererFn:K,blockStyleFn:q,customStyleMap:J,customStyleFn:X,keyBindingFn:Z,placeholder:v,stripPastedStyles:P},this.editorProps.draftProps,this.state.draftProps);return x.a.createElement("div",{ref:this.setEditorContainerNode,className:"bf-container ".concat(T).concat(s?" disabled":"").concat(l?" read-only":"").concat(H?" fullscreen":""),style:B},x.a.createElement(Bt,V),_,x.a.createElement("div",{className:"bf-content ".concat(F),style:L},x.a.createElement(R.Editor,$)))}}]),t}(x.a.Component);S()(Rt,"defaultProps",j);var Lt=n(14);n.d(t,"EditorState",function(){return R.EditorState}),n.d(t,"getDecorators",function(){return et}),R.EditorState.prototype.setConvertOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.convertOptions=e},R.EditorState.prototype.toHTML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.convertOptions||{};return Object(Lt.convertEditorStateToHTML)(this,a()({},t,e))},R.EditorState.prototype.toRAW=function(e){return e?Object(Lt.convertEditorStateToRaw)(this):JSON.stringify(Object(Lt.convertEditorStateToRaw)(this))},R.EditorState.prototype.toText=function(){return this.getCurrentContent().getPlainText()},R.EditorState.prototype.isEmpty=function(){return!this.getCurrentContent().hasText()},Rt.createEditorState=R.EditorState.createFrom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.unitExportFn=t.unitExportFn||Rt.defaultProps.converts.unitExportFn,t.styleImportFn=ge(t.styleImportFn,t.editorId),t.entityImportFn=ye(t.entityImportFn,t.editorId),t.blockImportFn=ve(t.blockImportFn,t.editorId);var n=null;if(e instanceof R.EditorState)n=e;else if("object"===o()(e)&&e&&e.blocks&&e.entityMap)n=Object(Lt.convertRawToEditorState)(e,et(t.editorId));else if("string"==typeof e)try{n=R.EditorState.createFrom(JSON.parse(e),t)}catch(r){n=Object(Lt.convertHTMLToEditorState)(e,et(t.editorId),t,"create")}else n=R.EditorState.createEmpty(et(t.editorId));return t.styleExportFn=he(t.styleExportFn,t.editorId),t.entityExportFn=be(t.entityExportFn,t.editorId),t.blockExportFn=Ae(t.blockExportFn,t.editorId),n.setConvertOptions(t),n};t.default=function(e){return e.use=Ee,e}(Rt)},function(e,t){},,function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}])})},2055:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorUtils=t.BaseUtils=t.ContentUtils=void 0;var o=n(2056),i=r(o),a=n(2071),l=r(a),s=n(2072),c=r(s);t.ContentUtils=i,t.BaseUtils=l,t.ColorUtils=c},2056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redo=t.undo=t.handleKeyCommand=t.clear=t.setMediaPosition=t.removeMedia=t.setMediaData=t.insertMedias=t.insertHorizontalLine=t.insertAtomicBlock=t.insertHTML=t.insertText=t.toggleSelectionLetterSpacing=t.toggleSelectionFontFamily=t.toggleSelectionLineHeight=t.toggleSelectionFontSize=t.toggleSelectionBackgroundColor=t.toggleSelectionColor=t.decreaseSelectionIndent=t.increaseSelectionIndent=t.toggleSelectionIndent=t.toggleSelectionAlignment=t.removeSelectionInlineStyles=t.toggleSelectionInlineStyle=t.selectionHasInlineStyle=t.getSelectionInlineStyle=t.toggleSelectionLink=t.toggleSelectionEntity=t.getSelectionEntityData=t.getSelectionEntityType=t.toggleSelectionBlockType=t.getSelectionText=t.getSelectionBlockType=t.getSelectionBlockData=t.setSelectionBlockData=t.getSelectionBlock=t.removeBlock=t.selectNextBlock=t.selectBlock=t.isSelectionCollapsed=t.createEditorState=t.createEmptyEditorState=t.isEditorState=void 0;var r=n(92),o=n(2036),i=n(2037),a=(t.isEditorState=function(e){return e instanceof r.EditorState},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(e)},t.createEditorState=function(e,t){return r.EditorState.createWithContent(e,t)},t.isSelectionCollapsed=function(e){return e.getSelection().isCollapsed()},t.selectBlock=function(e,t){var n=t.getKey();return r.EditorState.forceSelection(e,new r.SelectionState({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:t.getLength()}))}),l=t.selectNextBlock=function(e,t){var n=e.getCurrentContent().getBlockAfter(t.getKey());return n?a(e,n):e},s=t.removeBlock=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=void 0,i=void 0,a=t.getKey();return o=r.Modifier.removeRange(e.getCurrentContent(),new r.SelectionState({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:t.getLength()}),"backward"),o=r.Modifier.setBlockType(o,o.getSelectionAfter(),"unstyled"),i=r.EditorState.push(e,o,"remove-range"),r.EditorState.forceSelection(i,n||o.getSelectionAfter())},c=t.getSelectionBlock=function(e){return e.getCurrentContent().getBlockForKey(e.getSelection().getAnchorKey())},d=t.setSelectionBlockData=function(e,t,n){var r=n?t:Object.assign({},u(e).toJS(),t);return Object.keys(r).forEach(function(e){r.hasOwnProperty(e)&&void 0===r[e]&&delete r[e]}),(0,o.setBlockData)(e,r)},u=t.getSelectionBlockData=function(e,t){var n=c(e).getData();return t?n.get(t):n},f=t.getSelectionBlockType=function(e){return c(e).getType()},p=(t.getSelectionText=function(e){var t=e.getSelection(),n=e.getCurrentContent();if(t.isCollapsed()||"atomic"===f(e))return"";var r=t.getAnchorKey(),o=n.getBlockForKey(r),i=t.getStartOffset(),a=t.getEndOffset();return o.getText().slice(i,a)},t.toggleSelectionBlockType=function(e,t){return r.RichUtils.toggleBlockType(e,t)},t.getSelectionEntityType=function(e){var t=(0,o.getSelectionEntity)(e);if(t){var n=e.getCurrentContent().getEntity(t);return n?n.get("type"):null}return null}),m=(t.getSelectionEntityData=function(e,t){var n=(0,o.getSelectionEntity)(e);if(n){var r=e.getCurrentContent().getEntity(n);return r&&r.get("type")===t?r.getData():{}}return{}},t.toggleSelectionEntity=function(e,t){var n=e.getCurrentContent(),o=e.getSelection();if(o.isCollapsed()||"atomic"===f(e))return e;if(!t||!t.type||p(e)===t.type)return r.EditorState.push(e,r.Modifier.applyEntity(n,o,null),"apply-entity");try{var i=n.createEntity(t.type,t.mutability,t.data),a=i.getLastCreatedEntityKey(),l=r.EditorState.set(e,{currentContent:i});return r.EditorState.push(l,r.Modifier.applyEntity(i,o,a),"apply-entity")}catch(t){return console.warn(t),e}},t.toggleSelectionLink=function(e,t,n){var o=e.getCurrentContent(),i=e.getSelection(),a={href:t,target:n};if(i.isCollapsed()||"atomic"===f(e))return e;if(!1===t)return r.RichUtils.toggleLink(e,i,null);null===t&&delete a.href;try{var l=o.createEntity("LINK","MUTABLE",a),s=l.getLastCreatedEntityKey(),c=r.EditorState.set(e,{currentContent:l});return c=r.RichUtils.toggleLink(c,i,s),c=r.EditorState.forceSelection(c,i.merge({anchorOffset:i.getEndOffset(),focusOffset:i.getEndOffset()})),c=r.EditorState.push(c,r.Modifier.insertText(c.getCurrentContent(),c.getSelection()," "),"insert-text")}catch(t){return console.warn(t),e}},t.getSelectionInlineStyle=function(e){return e.getCurrentInlineStyle()}),g=(t.selectionHasInlineStyle=function(e,t){return m(e).has(t.toUpperCase())},t.toggleSelectionInlineStyle=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t=n+t.toUpperCase();var o=n?e.getCurrentInlineStyle().toJS().filter(function(e){return 0===e.indexOf(n)&&e!==t}):[],i=o.length?o.reduce(function(e,t){return r.RichUtils.toggleInlineStyle(e,t)},e):e;return r.RichUtils.toggleInlineStyle(i,t)}),h=(t.removeSelectionInlineStyles=function(e){return(0,o.removeAllInlineStyles)(e)},t.toggleSelectionAlignment=function(e,t){return d(e,{textAlign:u(e,"textAlign")!==t?t:void 0})},t.toggleSelectionIndent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return t<0||t>n||isNaN(t)?e:d(e,{textIndent:t||void 0})}),y=(t.increaseSelectionIndent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=u(e,"textIndent")||0;return h(e,n+1,t)},t.decreaseSelectionIndent=function(e){var t=u(e,"textIndent")||0;return h(e,t-1)},t.toggleSelectionColor=function(e,t){return g(e,t.replace("#",""),"COLOR-")},t.toggleSelectionBackgroundColor=function(e,t){return g(e,t.replace("#",""),"BGCOLOR-")},t.toggleSelectionFontSize=function(e,t){return g(e,t,"FONTSIZE-")},t.toggleSelectionLineHeight=function(e,t){return g(e,t,"LINEHEIGHT-")},t.toggleSelectionFontFamily=function(e,t){return g(e,t,"FONTFAMILY-")},t.toggleSelectionLetterSpacing=function(e,t){return g(e,t,"LETTERSPACING-")},t.insertText=function(e,t,n,o){var i=e.getSelection();if("atomic"===f(e))return e;var a=void 0,l=e.getCurrentContent();return o&&o.type&&(l=l.createEntity(o.type,o.mutability||"MUTABLE",o.data||entityData),a=l.getLastCreatedEntityKey()),i.isCollapsed()?r.EditorState.push(e,r.Modifier.insertText(l,i,t,n,a),"insert-text"):r.EditorState.push(e,r.Modifier.replaceText(l,i,t,n,a),"replace-text")},t.insertHTML=function(e,t,n){if(!t)return e;var o=e.getSelection(),a=e.getCurrentContent(),l=e.convertOptions||{};try{var s=(0,r.convertFromRaw)((0,i.convertHTMLToRaw)(t,l,n)),c=s.blockMap;return r.EditorState.push(e,r.Modifier.replaceWithFragment(a,o,c),"insert-fragment")}catch(t){return console.warn(t),e}},t.insertAtomicBlock=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.getSelection(),a=e.getCurrentContent();if(!i.isCollapsed()||"atomic"===f(e))return e;var l=a.createEntity(t,n?"IMMUTABLE":"MUTABLE",o),s=l.getLastCreatedEntityKey();return r.AtomicBlockUtils.insertAtomicBlock(e,s," ")});t.insertHorizontalLine=function(e){return y(e,"HR")},t.insertMedias=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length?("atomic"===f(e)&&l(e,c(e)),t.reduce(function(e,t){var n=t.url,o=t.name,i=t.type,a=t.width,l=t.height,s=t.meta,c=e.getCurrentContent().createEntity(i,"IMMUTABLE",{url:n,name:o,type:i,width:a,height:l,meta:s}),d=c.getLastCreatedEntityKey();return r.AtomicBlockUtils.insertAtomicBlock(e,d," ")},e)):e},t.setMediaData=function(e,t,n){return r.EditorState.push(e,e.getCurrentContent().mergeEntityData(t,n),"change-block-data")},t.removeMedia=function(e,t){return s(e,t)},t.setMediaPosition=function(e,t,n){var r={},o=n.float,i=n.alignment;return void 0!==o&&(r.float=t.getData().get("float")===o?null:o),void 0!==i&&(r.alignment=t.getData().get("alignment")===i?null:i),d(a(e,t),r)},t.clear=function(e){var t=e.getCurrentContent(),n=t.getFirstBlock(),o=t.getLastBlock(),i=new r.SelectionState({anchorKey:n.getKey(),anchorOffset:0,focusKey:o.getKey(),focusOffset:o.getLength(),hasFocus:!0});return r.EditorState.push(e,r.Modifier.removeRange(t,i,"backward"),"remove-range")},t.handleKeyCommand=function(e,t){return r.RichUtils.handleKeyCommand(e,t)},t.undo=function(e){return r.EditorState.undo(e)},t.redo=function(e){return r.EditorState.redo(e)}},2057:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseHTML=t.convertFromHTML=t.convertToHTML=void 0;var o=n(2058),i=r(o),a=n(2069),l=r(a),s=n(2041),c=r(s);t.convertToHTML=i.default,t.convertFromHTML=l.default,t.parseHTML=c.default},2058:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),i=r(o),a=n(0),l=r(a),s=n(762),c=r(s),d=n(92),u=n(2059),f=r(u),p=n(2060),m=r(p),g=n(2062),h=r(g),y=n(2040),b=r(y),v=n(2065),A=r(v),E=n(2066),S=r(E),k=n(2067),C=r(k),w=n(2068),x=r(w),I=function(e,t){return t},M=function(e){var t=e.styleToHTML,n=void 0===t?{}:t,r=e.blockToHTML,o=void 0===r?{}:r,a=e.entityToHTML,s=void 0===a?I:a;return function(e){(0,i.default)(null!==e&&void 0!==e,"Expected contentState to be non-null");var t=void 0;t=!0===o.__isMiddleware?o((0,A.default)(x.default)):(0,b.default)((0,A.default)(o),(0,A.default)(x.default));var r=(0,d.convertToRaw)(e),a=[],u=r.blocks.map(function(e){var o=e.type,i=e.depth,d="",u="",p=t(e);if(!p)throw new Error("convertToHTML: missing HTML definition for block with type "+e.type);if(p.nest)for(;i+1!==a.length||o!==a[i].type;)if(i+1===a.length){var g=a[i];d+=(0,C.default)(t(g)).nestEnd,u+=(0,C.default)(t(e)).nestStart,a[i]=e}else if(i+1<a.length){var y=a[a.length-1];d+=(0,C.default)(t(y)).nestEnd,a=a.slice(0,-1)}else u+=(0,C.default)(t(e)).nestStart,a.push(e);else d=a.reduceRight(function(e,n){return e+(0,C.default)(t(n)).nestEnd},""),a=[];var b=(0,h.default)((0,m.default)((0,f.default)(e),r.entityMap,s),n),v=(0,S.default)(t(e)),A=void 0;return A="string"==typeof v?v:v.start+b+v.end,0===b.length&&Object.prototype.hasOwnProperty.call(v,"empty")&&(A=l.default.isValidElement(v.empty)?c.default.renderToStaticMarkup(v.empty):v.empty),d+u+A}).join("");return u=a.reduce(function(e,n){return e+(0,C.default)(t(n)).nestEnd},u)}};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Object.prototype.hasOwnProperty.call(t[0],"_map")&&null!=t[0].getBlockMap?M({}).apply(void 0,t):M.apply(void 0,t)}},2059:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2038),a=r(i),l=n(2030),s=r(l),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","\n":"<br/>"};t.default=function(e){for(var t=[].concat(o(e.text)),n=e.entityRanges.sort(s.default),r=e.inlineStyleRanges.sort(s.default),i="",l=0;l<t.length;l++)!function(e){var l=t[e];void 0!==c[l]?function(){var e=c[l],t=[].concat(o(i)).length;i+=e;var s=function(n){return(0,a.default)(n,t,l.length,e.length,0,0)};n=n.map(s),r=r.map(s)}():i+=l}(l);return Object.assign({},e,{text:i,inlineStyleRanges:r,entityRanges:n})}},2060:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2038),a=r(i),l=n(2030),s=r(l),c=n(2039),d=r(c),u=n(2061),f=r(u),p=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return arguments[1]};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,r=[].concat(o(e.text)),i=n;if(n.__isMiddleware&&(i=n(p)),Object.prototype.hasOwnProperty.call(e,"entityRanges")&&e.entityRanges.length>0){for(var l=e.entityRanges.sort(s.default),c=e.inlineStyleRanges,u=0;u<l.length;u++)!function(e){var n=l[e],s=t[n.key],u=r.slice(n.offset,n.offset+n.length).join(""),p=i(s,u),m=[].concat(o((0,d.default)(p,u)||u)),g=(0,f.default)(p,"start"),h=(0,f.default)(p,"end"),y=function(t,r){return r>e||Object.prototype.hasOwnProperty.call(t,"style")?(0,a.default)(t,n.offset,n.length,m.length,g,h):t},b=function(e){return e.reduce(function(e,t,n){var r=y(t,n);return Array.isArray(r)?e.concat(r):e.concat([r])},[])};l=b(l),c=b(c),r=[].concat(o(r.slice(0,n.offset)),o(m),o(r.slice(n.offset+n.length)))}(u);return Object.assign({},e,{text:r.join(""),inlineStyleRanges:c,entityRanges:l})}return e}},2061:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),a=r(i),l=n(2031),s=r(l),c=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start";if(a.default.isValidElement(t)){var r=(0,s.default)(t);if("string"==typeof r)return 0;var i=r[n].length,l=a.default.Children.toArray(t.props.children)[0];return i+(l&&a.default.isValidElement(l)?e(l,n):0)}return"object"===(void 0===t?"undefined":o(t))&&t[n]?t[n].length:0};t.default=c},2062:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),a=r(i),l=n(2063),s=r(l),c=n(2040),d=r(c),u=n(2039),f=r(u),p=n(2030),m=r(p),g=n(2064),h=r(g),y=function(e,t){return e.filter(function(e){return!t.some(function(t){return t.style===e.style})})},b=function(e,t){return t.reduceRight(function(e,t){var n=e[e.length-1];return(0,a.default)(n.style===t.style,"Style "+n.style+" to be removed doesn't match expected "+t.style),e.slice(0,-1)},e)},v=function(e,t){return t.filter(function(t){return e>=t.offset&&e<t.offset+t.length})},A=function(e,t){var n=e.offset<=t.offset,r=e.offset+e.length>=t.offset+t.length;return n&&r},E=function(e,t){return t.offset+t.length-(e.offset+e.length)},S=function(e,t){for(var n=0;n<e.length;){if(!t.every(A.bind(null,e[n])))return e.slice(n);n++}return[]},k=function(e,t,n){return t+(0,f.default)(e(n.style)).start},C=function(e,t,n){return(0,f.default)(e(n.style)).end+t},w=function(e){return function(t){return e(t)}};w.__isMiddleware=!0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;(0,a.default)(null!==e&&void 0!==e,"Expected raw block to be non-null");var n=void 0;n=!0===t.__isMiddleware?t(h.default):(0,d.default)((0,s.default)(t),(0,s.default)(h.default));for(var r="",i=[],l=e.inlineStyleRanges.sort(m.default),c=[].concat(o(e.text)),u=0;u<c.length;u++){var p=v(u,l),g=y(i,p),A=y(p,i),x=y(i,g),I=S(x,A),M=I.concat(A).sort(E),T=M.reduce(k.bind(null,n),"");r+=g.concat(I).reduce(C.bind(null,n),"")+T+c[u],i=b(i,I.concat(g)),i=i.concat(M),(0,a.default)(i.length===p.length,"Character "+u+": "+(i.length-p.length)+" styles left on stack that should no longer be there")}return r=i.reduceRight(function(e,t){return e+(0,f.default)(n(t.style)).end},r)}},2063:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return"function"==typeof e?e(t):e[t]}}},2064:function(e,t,n){"use strict";function r(e){switch(e){case"BOLD":return i.default.createElement("strong",null);case"ITALIC":return i.default.createElement("em",null);case"UNDERLINE":return i.default.createElement("u",null);case"CODE":return i.default.createElement("code",null);default:return{start:"",end:""}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},2065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return"function"==typeof e?e(t):e[t.type]}}},2066:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return c.default.isValidElement(e)&&c.default.Children.count(e.props.children)>0}function i(e){return(0,l.default)(null!==e&&void 0!==e,"Expected block HTML value to be non-null"),"string"==typeof e?e:c.default.isValidElement(e)?o(e)?u.default.renderToStaticMarkup(e):(0,p.default)(e):Object.prototype.hasOwnProperty.call(e,"element")&&c.default.isValidElement(e.element)?Object.assign({},e,(0,p.default)(e.element)):((0,l.default)(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(48),l=r(a),s=n(0),c=r(s),d=n(762),u=r(d),f=n(2031),p=r(f)},2067:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if((0,a.default)(null!==e&&void 0!==e,"Expected block HTML value to be non-null"),s.default.isValidElement(e.nest)){var t=(0,d.default)(e.nest),n=t.start,r=t.end;return Object.assign({},e,{nestStart:n,nestEnd:r})}return(0,a.default)(Object.prototype.hasOwnProperty.call(e,"nestStart")&&Object.prototype.hasOwnProperty.call(e,"nestEnd"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(48),a=r(i),l=n(0),s=r(l),c=n(2031),d=r(c)},2068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={unstyled:o.default.createElement("p",null),paragraph:o.default.createElement("p",null),"header-one":o.default.createElement("h1",null),"header-two":o.default.createElement("h2",null),"header-three":o.default.createElement("h3",null),"header-four":o.default.createElement("h4",null),"header-five":o.default.createElement("h5",null),"header-six":o.default.createElement("h6",null),blockquote:o.default.createElement("blockquote",null),"unordered-list-item":{element:o.default.createElement("li",null),nest:o.default.createElement("ul",null)},"ordered-list-item":{element:o.default.createElement("li",null),nest:o.default.createElement("ol",null)},media:o.default.createElement("figure",null),atomic:o.default.createElement("figure",null)}},2069:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return{text:"",inlines:[],entities:[],blocks:[]}}function i(e){var t=new Array(1);return e&&(t[0]=e),{text:C,inlines:[(0,b.OrderedSet)()],entities:t,blocks:[]}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,b.Map)();return!0===n?{text:"\r",inlines:[(0,b.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:r,depth:Math.max(0,Math.min(w,t))}],isNewline:!0}:{text:"\n",inlines:[(0,b.OrderedSet)()],entities:new Array(1),blocks:[]}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,b.Map)();return{text:"\r",inlines:[(0,b.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:n,depth:Math.max(0,Math.min(w,t))}]}}function s(e,t){switch(e){case"h1":return"header-one";case"h2":return"header-two";case"h3":return"header-three";case"h4":return"header-four";case"h5":return"header-five";case"h6":return"header-six";case"li":return"ol"===t?"ordered-list-item":"unordered-list-item";case"blockquote":return"blockquote";case"pre":return"code-block";case"div":case"p":return"unstyled";default:return null}}function c(e,t,n){return s(e,n)}function d(e,t,n){var r=O[e];return r?n=n.add(r).toOrderedSet():t instanceof HTMLElement&&function(){var e=t;n=n.withMutations(function(t){"bold"===e.style.fontWeight&&t.add("BOLD"),"italic"===e.style.fontStyle&&t.add("ITALIC"),"underline"===e.style.textDecoration&&t.add("UNDERLINE"),"line-through"===e.style.textDecoration&&t.add("STRIKETHROUGH")}).toOrderedSet()}(),n}function u(e,t){return d(e,t,(0,b.OrderedSet)())}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.text.slice(0,1),o=e.text.slice(-1),i="\r"===o&&"\r"===r,a="\r"!==e.text&&"\r"!==t.text,l="\r"===e.text&&!e.isNewline&&t.isNewline;if(i&&(a||l)&&(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===e.text.slice(-1)&&!0===n){if(t.text===C||"\n"===t.text)return e;r!==C&&"\n"!==r||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}var s=0===e.text.length&&t.isNewline;return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks),isNewline:s}}function p(e){return B.some(function(t){return-1!==e.indexOf("<"+t)})}function m(e,t,n,r,c,u,p,g,h,v,A,E,S,w,x,M){var T=e.nodeName.toLowerCase(),B=!1,O="unstyled";if("#text"===T){var D=function(){var n=e.textContent;if(""===n.trim()&&null===r)return{v:o()};if(""===n.trim()&&"code-block"!==r)return{v:i(M)};"code-block"!==r&&(n=n.replace(I,C));var a=Array(n.length).fill(M),l=0;return h(n,A,E,S,w).sort(k.default).forEach(function(e){var t=e.entity,r=e.offset,o=e.length,i=e.result,s=r+l;null!==i&&void 0!==i||(i=n.substr(s,o));var c=n.split("");c.splice.bind(c,s,o).apply(c,i.split("")),n=c.join(""),a.splice.bind(a,s,o).apply(a,Array(i.length).fill(t)),l+=i.length-o}),{v:{text:n,inlines:Array(n.length).fill(t),entities:a,blocks:[]}}}();if("object"===(void 0===D?"undefined":y(D)))return D.v}if("br"===T){var N=r;return null===N?a("unstyled",u,!0):a(N||"unstyled",u,x.flat)}var F=o(),R=null;t=d(T,e,t),t=p(T,e,t),"ul"!==T&&"ol"!==T||(n&&(u+=1),n=T,r=null);var L=v(T,e,n,r),P=void 0,U=void 0;if(!1===L)return o();if(L=L||{},"string"==typeof L?(P=L,U=(0,b.Map)()):(P="string"==typeof L?L:L.type,U=L.data?(0,b.Map)(L.data):(0,b.Map)()),r||-1===c.indexOf(T)&&!P)if(!n||"ordered-list-item"!==r&&"unordered-list-item"!==r||"li"!==T)r&&"atomic"!==r&&"atomic"===P&&(r=P,B=!0,F=a(P,u,!0,U));else{var j=s(T,n);F=l(j,u),r=j,B=!0,O="ul"===n?"unordered-list-item":"ordered-list-item"}else F=l(P||s(T,n),u,U),r=P||s(T,n),B=!0;var _=e.firstChild;null!=_||!M||"atomic"!==P&&"atomic"!==r||(_=document.createTextNode("a")),null!=_&&(T=_.nodeName.toLowerCase());for(var H=null;_;){H=g(T,_,A,E,S,w),R=m(_,t,n,r,c,u,p,g,h,v,A,E,S,w,x,H||M),F=f(F,R,x.flat);var z=_.nextSibling;if(z&&c.indexOf(T)>=0&&r){var Q=v(T,_,n,r),V=void 0,W=void 0;!1!==Q&&(Q=Q||{},"string"==typeof Q?(V=Q,W=(0,b.Map)()):(V=Q.type||s(T,n),W=Q.data?(0,b.Map)(Q.data):(0,b.Map)()),F=f(F,a(V,u,x.flat,W),x.flat))}z&&(T=z.nodeName.toLowerCase()),_=z}return B&&(F=f(F,l(O,u,(0,b.Map)()),x.flat)),F}function g(e,t,n,r,o,i,a,l,s,c,d){e=e.trim().replace(x,"").replace(M,C);var u=d(e);if(!u)return null;var f=p(e)?B.concat(["div"]):["div"],g=m(u,(0,b.OrderedSet)(),"ul",null,f,-1,t,n,r,o,i,a,l,s,c);return 0===g.text.indexOf("\r")&&(g={text:g.text.slice(1),inlines:g.inlines.slice(1),entities:g.entities.slice(1),blocks:g.blocks}),"\r"===g.text.slice(-1)&&(g.text=g.text.slice(0,-1),g.inlines=g.inlines.slice(0,-1),g.entities=g.entities.slice(0,-1),g.blocks.pop()),0===g.blocks.length&&g.blocks.push({type:"unstyled",data:(0,b.Map)(),depth:0}),g.text.split("\r").length===g.blocks.length+1&&g.blocks.unshift({type:"unstyled",data:(0,b.Map)(),depth:0}),g}function h(e,t,n,r,o,i,a,l,s,c,d,u){var f=g(e,t,n,r,o,i,a,l,s,c,d,u);if(null==f)return[];var p=0;return f.text.split("\r").map(function(e,t){e=U(e);var n=p+e.length,r=P(f).inlines.slice(p,n),o=P(f).entities.slice(p,n),i=(0,b.List)(r.map(function(e,t){var n={style:e,entity:null};return o[t]&&(n.entity=o[t]),v.CharacterMetadata.create(n)}));return p=n+1,new v.ContentBlock({key:u(),type:P(f).blocks[t].type,data:P(f).blocks[t].data,depth:P(f).blocks[t].depth,text:e,characterList:i})})}Object.defineProperty(t,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=n(21),v=n(92),A=n(2041),E=r(A),S=n(2030),k=r(S),C=" ",w=4,x=new RegExp("\r","g"),I=new RegExp("\n","g"),M=new RegExp("&nbsp;","g"),T=new RegExp("\r","g"),B=["p","h1","h2","h3","h4","h5","h6","li","blockquote","pre"],O={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},D=function(e,t){return e&&!0===e.__isMiddleware?e(t):e},N=function(e,t,n){},F=function(e,t,n){return n},R=function(e,t){},L=function(e){return[]},P=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")},U=function(e){return e.replace(T,"")},j=function(e){var t=e.htmlToStyle,n=void 0===t?F:t,r=e.htmlToEntity,o=void 0===r?R:r,i=e.textToEntity,a=void 0===i?L:i,l=e.htmlToBlock,s=void 0===l?N:l;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{flat:!1},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.default,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.genKey,l=v.ContentState.createFromText(""),d=function(){if(l.createEntity){var e;return l=(e=l).createEntity.apply(e,arguments),l.getLastCreatedEntityKey()}return v.Entity.create.apply(v.Entity,arguments)},f=function(){if(l.getEntity){var e;return(e=l).getEntity.apply(e,arguments)}return v.Entity.get.apply(v.Entity,arguments)},p=function(){if(l.mergeEntityData){var e;return void(l=(e=l).mergeEntityData.apply(e,arguments))}v.Entity.mergeData.apply(v.Entity,arguments)},m=function(){if(l.replaceEntityData){var e;return void(l=(e=l).replaceEntityData.apply(e,arguments))}v.Entity.replaceData.apply(v.Entity,arguments)},g=h(e,D(n,u),D(o,R),D(a,L),D(s,c),d,f,p,m,t,r,i),y=v.BlockMapBuilder.createFromArray(g),b=g[0].getKey();return l.merge({blockMap:y,selectionBefore:v.SelectionState.createEmpty(b),selectionAfter:v.SelectionState.createEmpty(b)})}};t.default=function(){return arguments.length>=1&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?j({}).apply(void 0,arguments):j.apply(void 0,arguments)}},2070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFromHTMLConfig=t.getToHTMLConfig=t.blocks=t.getHexColor=t.defaultFontFamilies=t.namedColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=t.namedColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},l=function(e){return e.split("-")[1]},s=function(e){return e+"px"},c=function(e){return e.replace("px","")},d=(t.defaultFontFamilies=[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:"tahoma, arial, 'Hiragino Sans GB', 宋体, sans-serif"}],t.getHexColor=function(e){if(e=e.replace("color:","").replace(";","").replace(" ",""),/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e))return e;if(a[e])return a[e];if(0===e.indexOf("rgb")){var t=e.split(","),n=t.length<3?null:"#"+[t[0],t[1],t[2]].map(function(e){var t=parseInt(e.replace(/\D/g,""),10).toString(16);return 1===t.length?"0"+t:t}).join("");return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(n)?n:null}return null}),u=t.blocks={"header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-fiv":"h5","header-six":"h6",unstyled:"p",blockquote:"blockquote"},f=Object.keys(u),p=f.map(function(e){return u[e]}),m=function(e,t){if(!e||!e.key)return i.default.createElement("p",null);var n=t.getBlockForKey(e.key);if(!n)return i.default.createElement("p",null);var o=n.getEntityAt(0);if(!o)return i.default.createElement("p",null);var a=t.getEntity(o),l=a.getType().toLowerCase(),s=e.data,c=s.float,d=s.alignment,u=a.getData(),f=u.url,p=u.link,m=u.link_target,g=u.width,h=u.height,y=u.meta;if("image"===l){var b={},v="";return c?(b.float=c,v+=" float-"+c):d&&(b.textAlign=d,v+=" align-"+d),p?i.default.createElement("div",{className:"media-wrap image-wrap"+v,style:b},i.default.createElement("a",{style:{display:"inline-block"},href:p,target:m},i.default.createElement("img",r({},y,{src:f,width:g,height:h,style:{width:g,height:h}})))):i.default.createElement("div",{className:"media-wrap image-wrap"+v,style:b},i.default.createElement("img",r({},y,{src:f,width:g,height:h,style:{width:g,height:h}})))}return"audio"===l?i.default.createElement("div",{className:"media-wrap audio-wrap"},i.default.createElement("audio",r({controls:!0},y,{src:f}))):"video"===l?i.default.createElement("div",{className:"media-wrap video-wrap"},i.default.createElement("video",r({controls:!0},y,{src:f,width:g,height:h}))):"embed"===l?i.default.createElement("div",{className:"media-wrap embed-wrap"},i.default.createElement("div",{dangerouslySetInnerHTML:{__html:f}})):"hr"===l?i.default.createElement("hr",null):i.default.createElement("p",null)},g=function(e){return function(t,n){var r=e.entityExportFn,o=t.type.toLowerCase();if(r){var a=r(t,n);if(a)return a}if("link"===o)return i.default.createElement("a",{href:t.data.href,target:t.data.target},n)}},h=function(e){return function(t){var n=e.unitExportFn||s;if(e.styleExportFn){var r=e.styleExportFn(t,e);if(r)return r}if("strikethrough"===(t=t.toLowerCase()))return i.default.createElement("span",{style:{textDecoration:"line-through"}});if("superscript"===t)return i.default.createElement("sup",null);if("subscript"===t)return i.default.createElement("sub",null);if(0===t.indexOf("color-"))return i.default.createElement("span",{style:{color:"#"+l(t)}});if(0===t.indexOf("bgcolor-"))return i.default.createElement("span",{style:{backgroundColor:"#"+l(t)}});if(0===t.indexOf("fontsize-"))return i.default.createElement("span",{style:{fontSize:n(l(t),"font-size","html")}});if(0===t.indexOf("lineheight-"))return i.default.createElement("span",{style:{lineHeight:n(l(t),"line-height","html")}});if(0===t.indexOf("letterspacing-"))return i.default.createElement("span",{style:{letterSpacing:n(l(t),"letter-spacing","html")}});if(0===t.indexOf("fontfamily-")){var o=e.fontFamilies.find(function(e){return e.name.toLowerCase()===l(t)});if(!o)return;return i.default.createElement("span",{style:{fontFamily:o.family}})}}},y=function(e){return function(t){var n=e.blockExportFn,r=e.contentState;if(n){var o=n(r,t);if(o)return o}var a="",l=t.type.toLowerCase(),s=t.data,c=s.textAlign,d=s.textIndent;if((c||d)&&(a=' style="',c&&(a+="text-align:"+c+";"),d&&!isNaN(d)&&d>0&&(a+="text-indent:"+2*d+"em;"),a+='"'),"atomic"===l)return m(t,r);if("code-block"===l){var f=r.getBlockBefore(t.key),p=r.getBlockAfter(t.key),g=f&&f.getType(),h=p&&p.getType(),y="",b="";return y="code-block"!==g?"<pre><code>":"",b="code-block"!==h?"</code></pre>":"<br/>",{start:y,end:b}}return u[l]?{start:"<"+u[l]+a+">",end:"</"+u[l]+">"}:"unordered-list-item"===l?{start:"<li"+a+">",end:"</li>",nest:i.default.createElement("ul",null)}:"ordered-list-item"===l?{start:"<li"+a+">",end:"</li>",nest:i.default.createElement("ol",null)}:void 0}},b=function(e,t){return function(n,r,o){if(!r||!r.style)return o;var i=e.unitImportFn||c,a=o;return[].forEach.call(r.style,function(o){if("span"===n&&"color"===o){var l=d(r.style.color);a=l?a.add("COLOR-"+l.replace("#","").toUpperCase()):a}else if("span"===n&&"background-color"===o){var s=d(r.style.backgroundColor);a=s?a.add("BGCOLOR-"+s.replace("#","").toUpperCase()):a}else if("span"===n&&"font-size"===o)a=a.add("FONTSIZE-"+i(r.style.fontSize,"font-size",t));else if("span"!==n||"line-height"!==o||isNaN(parseFloat(r.style.lineHeight,10)))if("span"!==n||"letter-spacing"!==o||isNaN(parseFloat(r.style.letterSpacing,10))){if("span"===n&&"text-decoration"===o)"line-through"===r.style.textDecoration?a=a.add("STRIKETHROUGH"):"underline"===r.style.textDecoration&&(a=a.add("UNDERLINE"));else if("span"===n&&"font-family"===o){var c=e.fontFamilies.find(function(e){return e.family.toLowerCase()===r.style.fontFamily.toLowerCase()});if(!c)return;a=a.add("FONTFAMILY-"+c.name.toUpperCase())}}else a=a.add("LETTERSPACING-"+i(r.style.letterSpacing,"letter-spacing",t));else a=a.add("LINEHEIGHT-"+i(r.style.lineHeight,"line-height",t))}),"sup"===n?a=a.add("SUPERSCRIPT"):"sub"===n&&(a=a.add("SUBSCRIPT")),e.styleImportFn&&(a=e.styleImportFn(n,r,a,t)||a),a}},v=function(e,t){return function(n,r,o){if(e&&e.entityImportFn){var i=e.entityImportFn(n,r,o,t);if(i)return i}n=n.toLowerCase();var a=r.alt,l=r.title,s=r.id,c=r.controls,d=r.autoplay,u=r.loop,f=r.poster,p={};if(s&&(p.id=s),a&&(p.alt=a),l&&(p.title=l),c&&(p.controls=c),d&&(p.autoPlay=d),u&&(p.loop=u),f&&(p.poster=f),"a"===n&&!r.querySelectorAll("img").length){return o("LINK","MUTABLE",{href:r.href,target:r.target})}if("audio"===n)return o("AUDIO","IMMUTABLE",{url:r.getAttribute("src"),meta:p});if("video"===n)return o("VIDEO","IMMUTABLE",{url:r.getAttribute("src"),meta:p});if("img"===n){var m=r.parentNode,g={meta:p},h=r.style,y=h.width,b=h.height;return g.url=r.getAttribute("src"),y&&(g.width=y),b&&(g.height=b),"a"===m.nodeName.toLowerCase()&&(g.link=m.href,g.link_target=m.target),o("IMAGE","IMMUTABLE",g)}if("hr"===n)return o("HR","IMMUTABLE",{});if(r.parentNode&&r.parentNode.classList.contains("embed-wrap")){var v=r.innerHTML||r.outerHTML;if(v)return o("EMBED","IMMUTABLE",{url:v})}}},A=function(e,t){return function(n,r){if(e&&e.blockImportFn){var o=e.blockImportFn(n,r,t);if(o)return o}var i=r.style||{};if(r.classList&&r.classList.contains("media-wrap"))return{type:"atomic",data:{float:i.float,alignment:i.textAlign}};if("img"===n)return{type:"atomic",data:{float:i.float,alignment:i.textAlign}};if("hr"===n)return{type:"atomic",data:{}};if("pre"===n)return r.innerHTML=r.innerHTML.replace(/<code(.*?)>/g,"").replace(/<\/code>/g,""),{type:"code-block",data:{}};if((i.textAlign||i.textIndent)&&p.indexOf(n)>-1){var a={};return i.textAlign&&(a.textAlign=i.textAlign),i.textIndent&&(a.textIndent=Math.ceil(parseInt(i.textIndent,10)/2)),{type:f[p.indexOf(n)],data:a}}}};t.getToHTMLConfig=function(e){return{styleToHTML:h(e),entityToHTML:g(e),blockToHTML:y(e)}},t.getFromHTMLConfig=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknow";return{htmlToStyle:b(e,t),htmlToEntity:v(e,t),htmlToBlock:A(e,t)}}},2071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.UniqueIndex=function(){return r+=1}},2072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},o=function(e){if(e=e.replace("color:","").replace(";","").replace(" ",""),/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e))return e;if(i[e])return i[e];if(0===e.indexOf("rgb")){var t=e.split(","),n=t.length<3?null:"#"+[t[0],t[1],t[2]].map(function(e){var t=parseInt(e.replace(/\D/g,""),10).toString(16);return 1===t.length?"0"+t:t}).join("");return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(n)?n:null}return null},i=t.namedColors=r,a=t.getHexColor=o;t.detectColorsFromHTMLString=function(e){return"string"!=typeof e?[]:(e.match(/color:[^;]{3,24};/g)||[]).map(a).filter(function(e){return e})},t.detectColorsFromDraftState=function(e){var t=[];return e&&e.blocks&&e.blocks.length?(e.blocks.forEach(function(e){e&&e.inlineStyleRanges&&e.inlineStyleRanges.length&&e.inlineStyleRanges.forEach(function(e){e.style&&e.style.indexOf("COLOR-")>=0&&t.push("#"+e.style.split("COLOR-")[1])})}),t.filter(function(e){return e})):t}},2073:function(e,t,n){!function(t,r){e.exports=r(n(0))}(window,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=17)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compressImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1280,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800;return new Promise(function(r,o){var i=new Image;i.src=e,i.onerror=function(e){o(e)},i.onload=function(){try{var e=document.createElement("canvas"),i=this.width>t||this.height>n?this.width>this.height?t/this.width:n/this.height:1;e.width=this.width*i,e.height=this.height*i;e.getContext("2d").drawImage(this,0,0,e.width,e.height),r({url:e.toDataURL("image/png",1),width:e.width,height:e.height})}catch(e){o(e)}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UniqueIndex=function(){return isNaN(window.__BRAFT_MM_UNIQUE_INDEX__)?window.__BRAFT_MM_UNIQUE_INDEX__=1:window.__BRAFT_MM_UNIQUE_INDEX__+=1,window.__BRAFT_MM_UNIQUE_INDEX__}},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={remove:"Usuń",cancel:"Anuluj",confirm:"Potwierdź",insert:"Wstaw wybrane elementy",width:"Szerokość",height:"Wysokość",image:"Obraz",video:"Wideo",audio:"Dźwięk",embed:"Obiekt",caption:"Biblioteka mediów",dragTip:"Kliknij lub przenieś tu pliki",dropTip:"Upuść aby dodać plik",selectAll:"Zaznacz wszystko",deselect:"Odznacz",removeSelected:"Usuń wybrane",externalInputPlaceHolder:"Nazwa źródła|Adres URL",externalInputTip:'Oddziel nazwę i adres URL źródła z pomocą "|", Potwierdź Enter-em',addLocalFile:"Dodaj z komputera",addExternalSource:"Dodaj z Internetu",unnamedItem:"Bez nazwy",confirmInsert:"Dodaj wybrane elementy"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={remove:"删除",cancel:"取消",confirm:"确认",insert:"插入所选项目",width:"宽度",height:"高度",image:"图片",video:"视频",audio:"音频",embed:"嵌入式媒体",caption:"媒体库",dragTip:"点击或拖动文件至此",dropTip:"放开鼠标以上传",selectAll:"选择全部",deselect:"取消选择",removeSelected:"删除选中项目",externalInputPlaceHolder:"资源名称|资源地址",externalInputTip:"使用“|”分隔资源名称和资源地址",addLocalFile:"添加本地资源",addExternalSource:"添加网络资源",unnamedItem:"未命名项目",confirmInsert:"插入选中项目"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={remove:"删除",cancel:"取消",confirm:"确认",insert:"插入所选项目",width:"宽度",height:"高度",image:"图片",video:"视频",audio:"音频",embed:"嵌入式媒体",caption:"媒体库",dragTip:"点击或拖动文件至此",dropTip:"放开鼠标以上传",selectAll:"选择全部",deselect:"取消选择",removeSelected:"删除选中项目",externalInputPlaceHolder:"资源名称|资源地址",externalInputTip:"使用“|”分隔资源名称和资源地址",addLocalFile:"添加本地资源",addExternalSource:"添加网络资源",unnamedItem:"未命名项目",confirmInsert:"插入选中项目"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={remove:"Remove",cancel:"Cancel",confirm:"Confirm",insert:"Insert Selected Items",width:"Width",height:"Height",image:"Image",video:"Video",audio:"Audio",embed:"Embed",caption:"Media Library",dragTip:"Click Or Drag Files Here",dropTip:"Drop To Upload",selectAll:"Select All",deselect:"Deselect",removeSelected:"Remove Selected Items",externalInputPlaceHolder:"Source Name|Source URL",externalInputTip:'Split source name and source URL with "|", confirm by hit Enter.',addLocalFile:"Add from local",addExternalSource:"Add from Internet",unnamedItem:"Unnamed Item",confirmInsert:"Insert selected items"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(5),l=r(a),s=n(4),c=r(s),d=n(3),u=r(d);t.default={en:i.default,zh:l.default,"zh-hant":c.default,pl:u.default}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o))return e;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=m[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(d(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(d(r.parts[i],t));m[r.id]={id:r.id,refs:1,parts:a}}}}function o(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],l=i[1],s=i[2],c=i[3],d={css:l,media:s,sourceMap:c};r[a]?r[a].parts.push(d):n.push(r[a]={id:a,parts:[d]})}return n}function i(e,t){var n=y(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=A[A.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),A.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=y(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=A.indexOf(e);t>=0&&A.splice(t,1)}function l(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),c(t,e.attrs),i(e,t),t}function s(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",c(t,e.attrs),i(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function d(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var c=v++;n=b||(b=l(t)),r=u.bind(null,n,c,!1),o=u.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=p.bind(null,n,t),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),r=f.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function u(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=S(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=E(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}var m={},g=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),h=function(e){return document.querySelector(e)},y=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=h.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),b=null,v=0,A=[],E=n(8);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=g()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var l=n[a],s=m[l.id];s.refs--,i.push(s)}if(e){r(o(e,t),t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete m[s.id]}}}};var S=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBrwAAAC8AAAAYGNtYXBu0GaRAAABHAAAAKxnYXNwAAAAEAAAAcgAAAAIZ2x5ZiBvTioAAAHQAAAMwGhlYWQRvuuTAAAOkAAAADZoaGVhB8ID2AAADsgAAAAkaG10eFIACUAAAA7sAAAAXGxvY2Eb8h8IAAAPSAAAADBtYXhwACEAewAAD3gAAAAgbmFtZZvLaqMAAA+YAAABnnBvc3QAAwAAAAAROAAAACAAAwPmAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADprAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAkAAAACAAIAAEAAAAAQAg4DTgN+BC6QLpCOkP6RPpGOkc6SbpgOms//3//wAAAAAAIOA04DfgQukB6QfpDukR6RbpHOkm6YDprP/9//8AAf/jH9Afzh/EFwYXAhb9FvwW+hb3Fu4WlRZqAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgEAAIEDAALVAAMABwAAATMRIyERMxECVqqq/qqqAtX9rAJU/awAAAEBVgCBAyoC1QACAAAJAgFWAdT+LALV/tb+1gABAKoAKwNWA4EALgAAATIXHgEXFhUUBw4BBwYjIicuAScmNTMUFx4BFxYzMjc+ATc2NTQnLgEnJiMVJzcCAEY/Pl0bGxsbXT4+R0Y/Pl0bG1YUFEUvLzU1Ly9FFBQUFEUvLzXW1gLVGxtcPj5GRz4+XRsbGxtdPj5HNi4vRRQUFBRFLy42NS8uRhQUrNbWAAAEAFUAIgOrA3cABAAhAD0AQgAAJTMRIxETIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmIxEiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYDMzUjFQHVVlYrWE5OdCEiIiF0Tk5YWE5OdCEiIiF0Tk5YRz4+XRobGxpdPj5HRz4+XRobGxpdPj5yVlb3AQD/AAKAISJzTk5YWU1OdCEiIiF0Tk1ZWE5OcyIh/QAbG10+PkdGPz5cGxsbG1w+P0ZHPj5dGxsB1lVVAAAEAFUAIgOrA3cABAAhAD0AUgAAJTM1IxUTIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmIxEiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYDIgYVMzQ2MzIWFRQGFTM0NjU0JiMB1VZWK1hOTnQhIiIhdE5OWFhOTnQhIiIhdE5OWEc+Pl0aGxsaXT4+R0c+Pl0aGxsaXT4+R0dkVjIjIzKAVoBkR81VVQKqISJzTk5YWU1OdCEiIiF0Tk1ZWE5OcyIh/QAbG10+PkdGPz5cGxsbG1w+P0ZHPj5dGxsCVmRHIzIyI0AtaEg9UEdkAAADAFUAIgOrA3cAHAArADoAAAEiBw4BBwYVFBceARcWMzI3PgE3NjU0Jy4BJyYjATQ3PgE3NjMyFhcBLgE1ASImJwEeARUUBw4BBwYjAgBYTk10IiIiInRNTlhYTk10IiIiInRNTlj+qxsbXD4/RjpqLf4iIyUBVTpqLQHeIyUbG1w+P0YDdyEidE5NWFhOTnQhIiIhdE5OWFhNTnQiIf5WRj4+XRsbJSP+Ii1qOv6qJiMB3i1rOUc+Pl0bGwAAAAADAIAAzQOAAs0AAwAHAAsAADchNSE1ITUhNRUhNYADAP0AAwD9AAMAzVWAVdZWVgABAGQAJQNcA1wARAAAAREUBwYHBgcGIyInJicmJyY1NDc2NzY3NjMyFxEFERQHBgcGBwYjIicmJyYnJjU0NzY3Njc2MzIXETQ3NjclNjMyFxYVA1wRERoZGhkWFxkaGRoRERERGhkaGRczK/6FEREaGRoZFxYZGhkaERERERoZGhkWNCsKCQ8BmwYIFA4OAyz91hgUEwoLBQUFBQsKExQYGRMUCgsFBRMBCnb+ohkTEwsLBQUFBQsLExMZGRMTCwoGBRMB3g8NDAV/Ag4OFAAABAB1AEIDiQNWAC8APABiAHgAAAEuAQcOAScuAScuAQcGIicmBgcOAScmBgcUFRwBFRQVHgEzNjM6ATMyMzI2NzwBNQUiJjU0NjMyFhUUBiclKgEjPAE1OgEzFBYVFBccARUGBxQGBw4BJy4BNz4BNzoBMzwBNQU+ATc6ATMUFgcOAScuATc+ATc6ATMCgQEZGQoVCQsXBBRDLwcPBx4pDAwoHRciCwsYFjQzNGc0MzQbGgH++y9BQTAwQEAxAbcfPyA0aDYBAQEBDQsVRSAiJQYHNyQHDQn+zgECAhMkEwMFBUojJjgCATomBxAJAs4XGgEBAQMCCQgtHwgBAQYYGxsWBgQTFSgoKVAoKCkPFQEXGkqUSu0/LjBAPy8wQAEXIT8gChIJMzIzZjIzMxQsESAQDg9CIyY0AzdtOd0MFAouXS0lLAYFRCYoPgQAAAAABAAAAAAEAANAABsAMwBPAFMAAAEUFx4BFxYzMjc+ATc2NTQnLgEnJiMiBw4BBwYBIy4BIyEiBgcjIgYVERQWMyEyNjURNCYBIicuAScmNTQ3PgE3NjMyFx4BFxYVFAcOAQcGASM1MwEwEBE4JiYrKyYmOBEQEBE4JiYrKyYmOBEQApDgDCQw/wAwJAzgGiYmGgOAGiYm/iY7NDNNFxYWF00zNDs7NDNNFxYWF00zNAGFgIABYCsmJjgREBAROCYmKysmJjgREBAROCYmATUwUFAwJhr9wBomJhoCQBom/YQWF00zNDs7NDNNFxYWF00zNDs7NDNNFxYBvEAAAQCRAKIDgALeAAYAAAEnBxcBJwEBgLM87wIAPP48ARqzPO8CADz+PAAAAAABAOIAgAMeAskAJgAAATc2NCcmIg8BJyYiBwYUHwEHBhQXHgEzMjY/ARceATMyNjc2NC8BAjziDQ0MJAzi4gwkDA0N4uINDQYQCAgQBuLiBhAICBAGDQ3iAaviDCMNDAzi4gwMDSMM4uINIwwHBgYH4eEHBgYHDCMN4gAAAgCAAGMDagNNACIALwAAASMnPgE1NCcuAScmIyIHDgEHBhUUFx4BFxYzMjY3FxUXNychIiY1NDYzMhYVFAYjApUhDB8kFhZLMzI6OTMySxYWFhZLMjM5NFwlC9Y/1f8AT3FxT1BwcFABdwwkXTM6MjNLFhYWFkszMjo5MjNLFhYkHwwi1D/VcU9QcHBQT3EAAgBkACIDnAN3AE0AWQAAAT4BNTQmJzc+AS8BLgEPAS4BLwEuASsBIgYPAQ4BBycmBg8BBhYfAQ4BFRQWFwcOAR8BHgE/AR4BHwEeATsBMjY/AT4BNxcWNj8BNiYnBSImNTQ2MzIWFRQGAz0BAgIBWgYDBFUEDwdqESQUEAEMCKoIDAEQFCQRagcPBFUEAwZaAQICAVoGAwRVBA8HahEkFBABDAiqCAwBEBQkEWoHDwRVBAMG/mk+V1c+PldXAaMKFQsLFAtGBQ8HlAcFAyoMFQhyBwoKB3IIFQwqAwUHlAcPBUYLFQoLFQpGBRAHkwcFAisNFQhxCAoKCHEIFQ0rAwYHkwcQBSZYPj5XVz4+WAABANUAogMrAvcACwAAASERIxEhNSERMxEhAyv/AFb/AAEAVgEAAaL/AAEAVQEA/wAAAAAACQAAAEAEAANAAAMABwALAA8AEwAXABsAHwAiAAATESERASM1MzUjNTM1IzUzASERIRMjNTM1IzUzNSM1MwURJQAEAPzAgICAgICAAkD+AAIAwICAgICAgP3AAQADQP0AAwD9QICAgICA/YACgP2AgICAgICA/oDAAAAAAAYAQP/AA8ADwAAZACEAOQBHAFUAYwAAAS4BJy4BJy4BIyEiBhURFBYzITI2NRE0JicnHgEXIzUeARMUBiMhIiY1ETQ2MzAzOgEzMjEVFBY7AQMhIiY1NDYzITIWFRQGJyEiJjU0NjMhMhYVFAYnISImNTQ2MyEyFhUUBgOWES0ZGjMXJykL/hAhLy8hAuAhLw4chRclDZoRKYYJB/0gBwkJB01Ouk1OEw3goP5ADRMTDQHADRMTDf5ADRMTDQHADRMTDf5ADRMTDQHADRMTAtsXMxoZLREcDi8h/KAhLy8hAnALKSc2FykRmg0l/OgHCQkHA2AHCeANE/4AEw0NExMNDROAEw0NExMNDROAEw0NExMNDRMAAAAHAAD/wAQAA0YACwAXACMALwA7AEcAUwAAJTQ2MzIWFRQGIyImATQ2MzIWFRQGIyImJTQ2MzIWFRQGIyImATQ2MzIWFRQGIyImATQ2MzIWFRQGIyImJTQ2MzIWFRQGIyImATQ2MzIWFRQGIyImAaA4KCg4OCgoOP5gOCgoODgoKDgDQDgoKDg4KCg4/To4KCg4OCgoOAJMOCgoODgoKDj9tDgoKDg4KCg4Akw4KCg4OCgoOCAoODgoKDg4AcgoODgoKDg4KCg4OCgoODgBTig4OCgoODj93Cg4OCgoODgoKDg4KCg4OAJ0KDg4KCg4OAAFAHwAAAOEA1UAIgAtADgARgBUAAABIzU0JisBIgYdASMiBhUUFjsBERQWMyEyNjURMzI2NTQmIyU0NjsBMhYdASM1ARQGIyEiJjURIREBIgYdARQWMzI2PQE0JjMiBh0BFBYzMjY9ATQmA12bRDCcMESbEBcXECdEMAGEMEQnEBcXEP4vFhCcEBboAV0XEP58EBcB0v7JEBYWEBAXF4wQFxcQEBYWAronMEREMCcXEBAW/gcwREQwAfkWEBAXJxAXFxAnJ/2TEBYWEAH5/gcBhBcQ6BAXFxDoEBcXEOgQFxcQ6BAXAAAAAQAAAAEAALrNOx9fDzz1AAsEAAAAAADXT9OLAAAAANdP04sAAP/ABAADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAAEAAABAAAAAAAAAAAAAAAAAAAAFwQAAAAAAAAAAAAAAAIAAAAEAAEABAABVgQAAKoEAABVBAAAVQQAAFUEAACABAAAZAQAAHUEAAAABAAAkQQAAOIEAACABAAAZAQAANUEAAAABAAAQAQAAAAEAAB8AAAAAAAKABQAHgAyAEAAiADuAWYBxgHeAkYC7gNsA4IDwAQIBJAEqgToBXQF7AZgAAEAAAAXAHkACQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAJAAAAAQAAAAAAAgAHAHIAAQAAAAAAAwAJADwAAQAAAAAABAAJAIcAAQAAAAAABQALABsAAQAAAAAABgAJAFcAAQAAAAAACgAaAKIAAwABBAkAAQASAAkAAwABBAkAAgAOAHkAAwABBAkAAwASAEUAAwABBAkABAASAJAAAwABBAkABQAWACYAAwABBAkABgASAGAAAwABBAkACgA0ALxFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNWZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNSZWd1bGFyAFIAZQBnAHUAbABhAHJFdmlsSWNvbnMARQB2AGkAbABJAGMAbwBuAHNGb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){var r=n(12);t=e.exports=n(11)(!1),t.push([e.i,"@font-face {\n  font-family: 'bf-icons';\n  src: url("+r(n(10))+') format("truetype");\n  font-weight: normal;\n  font-style: normal; }\n\n.braft-finder [class^="braft-icon-"], .braft-finder [class*=" braft-icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'bf-icons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n\n.braft-finder .braft-icon-pause:before {\n  content: "\\E034"; }\n\n.braft-finder .braft-icon-play_arrow:before {\n  content: "\\E037"; }\n\n.braft-finder .braft-icon-bin:before {\n  content: "\\E9AC"; }\n\n.braft-finder .braft-icon-replay:before {\n  content: "\\E042"; }\n\n.braft-finder .braft-icon-close:before {\n  content: "\\E913"; }\n\n.braft-finder .braft-icon-music:before {\n  content: "\\E90E"; }\n\n.braft-finder .braft-icon-camera:before {\n  content: "\\E911"; }\n\n.braft-finder .braft-icon-file-text:before {\n  content: "\\E926"; }\n\n.braft-finder .braft-icon-film:before {\n  content: "\\E91C"; }\n\n.braft-finder .braft-icon-paste:before {\n  content: "\\E92D"; }\n\n.braft-finder .braft-icon-spinner:before {\n  content: "\\E980"; }\n\n.braft-finder .braft-icon-media:before {\n  content: "\\E90F"; }\n\n.braft-finder .braft-icon-add:before {\n  content: "\\E918"; }\n\n.braft-finder .braft-icon-done:before {\n  content: "\\E912"; }\n\n.braft-finder .braft-icon-drop-down:before {\n  content: "\\E906"; }\n\n.braft-finder .braft-icon-drop-up:before {\n  content: "\\E909"; }\n\n.braft-finder .braft-icon-help:before {\n  content: "\\E902"; }\n\n.braft-finder .braft-icon-info:before {\n  content: "\\E901"; }\n\n.braft-finder .braft-icon-menu:before {\n  content: "\\E908"; }\n\n.pull-left {\n  float: left; }\n\n.pull-right {\n  float: right; }\n\n.braft-finder .bf-uploader {\n  position: relative;\n  height: 370px;\n  margin: 0; }\n  .braft-finder .bf-uploader.draging .bf-list-wrap,\n  .braft-finder .bf-uploader.draging .bf-add-external {\n    pointer-events: none; }\n  .braft-finder .bf-uploader input::-webkit-input-placeholder {\n    color: #ccc; }\n  .braft-finder .bf-uploader input::-moz-placeholder {\n    color: #ccc; }\n  .braft-finder .bf-uploader input::-ms-input-placeholder {\n    color: #ccc; }\n\n.braft-finder .bf-list-wrap {\n  position: relative;\n  height: 370px; }\n\n.braft-finder .bf-list-tools {\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 20px;\n  padding: 0 15px;\n  background-color: #fff; }\n  .braft-finder .bf-list-tools span {\n    height: 26px;\n    font-size: 12px;\n    line-height: 20px;\n    cursor: pointer;\n    user-select: none; }\n    .braft-finder .bf-list-tools span[disabled] {\n      opacity: .3;\n      pointer-events: none; }\n  .braft-finder .bf-list-tools .bf-select-all,\n  .braft-finder .bf-list-tools .bf-deselect-all {\n    float: left;\n    margin-right: 5px;\n    color: #bbb; }\n    .braft-finder .bf-list-tools .bf-select-all:hover,\n    .braft-finder .bf-list-tools .bf-deselect-all:hover {\n      color: #3498db; }\n  .braft-finder .bf-list-tools .bf-remove-selected {\n    float: right;\n    color: #e74c3c; }\n    .braft-finder .bf-list-tools .bf-remove-selected:hover {\n      color: #c92e1e; }\n\n.braft-finder .bf-list {\n  position: absolute;\n  z-index: 1;\n  top: 30px;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  margin: 0;\n  padding: 0 10px;\n  list-style: none;\n  overflow: auto; }\n  .braft-finder .bf-list::-webkit-scrollbar {\n    width: 5px;\n    height: 5px;\n    background-color: #fff; }\n  .braft-finder .bf-list::-webkit-scrollbar-track {\n    background-color: #fff; }\n  .braft-finder .bf-list::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.1); }\n\n.braft-finder .bf-item,\n.braft-finder .bf-add-item {\n  position: relative;\n  display: block;\n  float: left;\n  width: 113px;\n  height: 113px;\n  margin: 5px;\n  overflow: hidden;\n  border-radius: 3px; }\n\n.braft-finder .bf-item.uploading {\n  pointer-events: none; }\n\n.braft-finder .bf-item.error::before {\n  display: block;\n  content: "\\E901"; }\n\n.braft-finder .bf-item.error::after {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(231, 76, 60, 0.8);\n  content: \'\'; }\n\n.braft-finder .bf-item.error:hover::after {\n  background-color: rgba(231, 76, 60, 0.9); }\n\n.braft-finder .bf-item.error .bf-item-uploading {\n  display: none; }\n\n.braft-finder .bf-add-item {\n  background-color: #ecedef;\n  color: #999; }\n  .braft-finder .bf-add-item:hover {\n    background-color: #e1e2e3; }\n  .braft-finder .bf-add-item i {\n    display: block;\n    width: 113px;\n    height: 113px;\n    font-size: 48px;\n    line-height: 113px;\n    text-align: center; }\n  .braft-finder .bf-add-item input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer; }\n\n.braft-finder .bf-item::before {\n  display: none;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  left: 0;\n  width: 113px;\n  height: 113px;\n  color: #fff;\n  font-size: 48px;\n  font-family: \'bf-icons\';\n  line-height: 113px;\n  text-align: center; }\n\n.braft-finder .bf-item::after {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(52, 152, 219, 0);\n  content: \'\'; }\n\n.braft-finder .bf-item:hover::after {\n  background-color: rgba(52, 152, 219, 0.3); }\n\n.braft-finder .bf-item:hover .bf-item-remove {\n  display: block; }\n\n.braft-finder .bf-item.active::before {\n  display: block;\n  content: "\\E912"; }\n\n.braft-finder .bf-item.active::after {\n  background-color: rgba(52, 152, 219, 0.6); }\n\n.braft-finder .bf-item.active:hover::after {\n  background-color: rgba(52, 152, 219, 0.8); }\n\n.braft-finder .bf-item.active:hover .bf-item-remove {\n  display: none; }\n\n.braft-finder .bf-item-uploading {\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 3;\n  top: 52px;\n  left: 10px;\n  width: 93px;\n  height: 10px;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 5px;\n  box-shadow: 0 0 0 100px rgba(0, 0, 0, 0.5); }\n\n.braft-finder .bf-item-uploading-bar {\n  height: 10px;\n  background-color: #3498db;\n  border-radius: 0; }\n\n.braft-finder .bf-item-remove {\n  display: none;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  right: 0;\n  width: 28px;\n  height: 28px;\n  color: #fff;\n  font-size: 18px;\n  line-height: 28px;\n  text-align: center;\n  cursor: pointer; }\n  .braft-finder .bf-item-remove:hover {\n    color: #e74c3c; }\n\n.braft-finder .bf-item-title {\n  display: none;\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 2;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 40px;\n  padding: 0 5px;\n  overflow: hidden;\n  background-image: linear-gradient(rgba(0, 0, 0, 0), black);\n  color: #fff;\n  font-size: 12px;\n  line-height: 55px;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n\n.braft-finder .bf-image {\n  width: 100%;\n  height: 100%;\n  background-color: #eee;\n  user-select: none; }\n  .braft-finder .bf-image img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover; }\n\n.braft-finder .bf-video {\n  background-color: #8e44ad; }\n\n.braft-finder .bf-audio {\n  background-color: #f39c12; }\n\n.braft-finder .bf-embed {\n  background-color: #f1c40f; }\n\n.braft-finder .bf-icon {\n  display: block;\n  width: 113px;\n  height: 113px;\n  overflow: hidden;\n  color: #fff;\n  text-align: center;\n  text-decoration: none; }\n  .braft-finder .bf-icon i, .braft-finder .bf-icon span {\n    display: block; }\n  .braft-finder .bf-icon i {\n    margin-top: 35px;\n    font-size: 24px; }\n  .braft-finder .bf-icon span {\n    width: 103px;\n    margin: 10px auto;\n    overflow: hidden;\n    font-size: 12px;\n    text-overflow: ellipsis;\n    white-space: nowrap; }\n\n.braft-finder .bf-drag-uploader {\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  right: 15px;\n  left: 15px;\n  height: 100%;\n  background-color: #fff;\n  border: dashed 1px #bbb;\n  text-align: center;\n  opacity: 0;\n  pointer-events: none; }\n  .braft-finder .bf-drag-uploader:hover, .braft-finder .bf-drag-uploader.draging {\n    background-color: #f1f2f3; }\n  .braft-finder .bf-drag-uploader.active {\n    opacity: 1;\n    pointer-events: auto; }\n\n.braft-finder .bf-uploader-buttons {\n  height: 370px;\n  margin: auto;\n  text-align: center; }\n\n.braft-finder .bf-drag-tip {\n  display: inline-block;\n  margin-top: 150px;\n  color: #ccc;\n  text-align: center;\n  font-size: 28px;\n  font-weight: normal;\n  line-height: 40px; }\n  .braft-finder .bf-drag-tip input {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    color: #fff;\n    text-indent: -100px;\n    cursor: pointer; }\n\n.braft-finder .bf-manager-footer {\n  height: 36px;\n  margin: 10px 0;\n  padding: 0 15px; }\n  .braft-finder .bf-manager-footer .button {\n    float: right;\n    height: 36px;\n    margin-left: 5px;\n    padding: 0 35px;\n    font-size: 12px;\n    font-weight: 700;\n    border: none;\n    border-radius: 3px;\n    cursor: pointer; }\n  .braft-finder .bf-manager-footer .button-insert {\n    color: #fff;\n    background-color: #3498db; }\n    .braft-finder .bf-manager-footer .button-insert:hover {\n      background-color: #2084c7; }\n    .braft-finder .bf-manager-footer .button-insert[disabled] {\n      opacity: .3;\n      pointer-events: none;\n      filter: grayscale(0.4); }\n  .braft-finder .bf-manager-footer .button-cancel {\n    color: #999;\n    background-color: #e8e8e9; }\n    .braft-finder .bf-manager-footer .button-cancel:hover {\n      background-color: #d8d8d9; }\n\n.braft-finder .bf-toggle-external-form {\n  color: #666;\n  font-size: 12px;\n  line-height: 36px; }\n  .braft-finder .bf-toggle-external-form span {\n    color: #bbb;\n    line-height: 16px;\n    cursor: pointer;\n    user-select: none; }\n    .braft-finder .bf-toggle-external-form span:hover {\n      color: #3498db; }\n    .braft-finder .bf-toggle-external-form span i {\n      position: relative;\n      top: 2px;\n      font-size: 16px; }\n\n.braft-finder .bf-add-external {\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #fff; }\n  .braft-finder .bf-add-external input {\n    border: solid 1px rgba(0, 0, 0, 0.3);\n    border: solid 0.5px rgba(0, 0, 0, 0.3);\n    box-shadow: none; }\n    .braft-finder .bf-add-external input:focus {\n      border-color: #3498db;\n      box-shadow: none; }\n\n.braft-finder .bf-external-form {\n  width: 500px;\n  max-width: 90%;\n  margin: 91px auto 0 auto; }\n\n.braft-finder .bf-external-input {\n  position: relative;\n  width: 100%;\n  height: 40px;\n  margin-bottom: 10px; }\n  .braft-finder .bf-external-input div {\n    position: absolute;\n    top: 0;\n    right: 85px;\n    left: 0;\n    height: 40px; }\n  .braft-finder .bf-external-input input,\n  .braft-finder .bf-external-input textarea {\n    display: block;\n    box-sizing: border-box;\n    width: 100%;\n    height: 40px;\n    padding: 0 10px;\n    border: none;\n    border-radius: 3px;\n    outline: none;\n    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3);\n    color: #999;\n    font-size: 18px; }\n    .braft-finder .bf-external-input input:focus,\n    .braft-finder .bf-external-input textarea:focus {\n      box-shadow: inset 0 0 0 1px #3498db; }\n  .braft-finder .bf-external-input textarea {\n    height: 100px;\n    font-size: 14px; }\n  .braft-finder .bf-external-input button {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 80px;\n    height: 40px;\n    background-color: #3498db;\n    border: none;\n    border-radius: 3px;\n    color: #fff;\n    font-size: 14px;\n    font-weight: bold;\n    cursor: pointer; }\n    .braft-finder .bf-external-input button:disabled {\n      opacity: .3;\n      pointer-events: none;\n      filter: grayscale(0.4); }\n    .braft-finder .bf-external-input button:hover {\n      background-color: #2084c7; }\n\n.braft-finder .bf-switch-external-type {\n  overflow: hidden;\n  text-align: center; }\n  .braft-finder .bf-switch-external-type button {\n    width: auto;\n    height: 30px;\n    margin: 10px 5px;\n    padding: 0 10px;\n    background-color: #e8e9ea;\n    border: none;\n    border-radius: 3px;\n    color: #999;\n    font-size: 12px;\n    cursor: pointer; }\n    .braft-finder .bf-switch-external-type button:hover {\n      background-color: #d8d9da; }\n    .braft-finder .bf-switch-external-type button:only-child {\n      display: none; }\n  .braft-finder .bf-switch-external-type[data-type="IMAGE"] [data-type="IMAGE"],\n  .braft-finder .bf-switch-external-type[data-type="VIDEO"] [data-type="VIDEO"],\n  .braft-finder .bf-switch-external-type[data-type="AUDIO"] [data-type="AUDIO"],\n  .braft-finder .bf-switch-external-type[data-type="EMBED"] [data-type="EMBED"],\n  .braft-finder .bf-switch-external-type[data-type="FILE"] [data-type="FILE"] {\n    background-color: #3498db;\n    color: #fff; }\n\n.braft-finder .bf-external-tip {\n  display: block;\n  margin-top: 15px;\n  color: #ccc;\n  font-size: 12px;\n  text-align: center; }\n',""])},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0,o.insertInto=void 0;n(9)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(14);var s=n(2),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=n(1),u={image:"image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg",video:"video/mp4",audio:"audio/mp3"},f=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.toggleSelectItem=function(e){var t=e.currentTarget.dataset.id,r=n.controller.getMediaItem(t);if(!r)return!1;r.selected?n.props.onBeforeDeselect&&!1===n.props.onBeforeDeselect([r],n.controller.getItems())||(n.controller.deselectMediaItem(t),n.props.onDeselect&&n.props.onDeselect([r],n.controller.getItems())):n.props.onBeforeSelect&&!1===n.props.onBeforeSelect([r],n.controller.getItems())||(n.controller.selectMediaItem(t),n.props.onSelect&&n.props.onSelect([r],n.controller.getItems()))},n.removeItem=function(e){var t=e.currentTarget.dataset.id,r=n.controller.getMediaItem(t);if(!r)return!1;n.props.onBeforeRemove&&!1===n.props.onBeforeRemove([r],n.controller.getItems())||(n.controller.removeMediaItem(t),n.props.onRemove&&n.props.onRemove([r],n.controller.getItems())),e.stopPropagation()},n.selectAllItems=function(){var e=n.controller.getItems();n.props.onBeforeSelect&&!1===n.props.onBeforeSelect(e,e)||(n.controller.selectAllItems(),n.props.onSelect&&n.props.onSelect(e,e))},n.deselectAllItems=function(){var e=n.controller.getItems();n.props.onBeforeDeselect&&!1===n.props.onBeforeDeselect(e,e)||(n.controller.deselectAllItems(),n.props.onDeselect&&n.props.onDeselect(e,e))},n.removeSelectedItems=function(){var e=n.controller.getSelectedItems();n.props.onBeforeRemove&&!1===n.props.onBeforeRemove(e,n.controller.getItems())||(n.controller.removeSelectedItems(),n.props.onRemove&&n.props.onRemove(e,n.controller.getItems()))},n.handleDragLeave=function(e){e.preventDefault(),0===--n.dragCounter&&n.setState({draging:!1})},n.handleDragDrop=function(e){e.preventDefault(),n.dragCounter=0,n.setState({draging:!1}),n.reslovePickedFiles(e)},n.handleDragEnter=function(e){e.preventDefault(),n.dragCounter++,n.setState({draging:!0})},n.reslovePickedFiles=function(e){e.persist();var t="drop"===e.type?e.dataTransfer:e.target,r=t.files;if(n.props.onFileSelect){var o=n.props.onFileSelect(r);if(!1===o)return!1;(o instanceof FileList||o instanceof Array)&&(r=o)}n.controller.resolveFiles({files:r,onItemReady:function(e){var t=e.id;return n.controller.selectMediaItem(t)},onAllReady:function(){return e.target.value=null}},0,n.props.accepts)},n.inputExternal=function(e){n.setState({external:a({},n.state.external,{url:e.target.value})})},n.switchExternalType=function(e){n.setState({external:a({},n.state.external,{type:e.target.dataset.type})})},n.confirmAddExternal=function(e){if("button"===e.target.nodeName.toLowerCase()||13===e.keyCode){var t=n.state.external,r=t.url,o=t.type;r=r.split("|");var i=r.length>1?r[0]:n.props.language.unnamedItem;r=r.length>1?r[1]:r[0];var a="IMAGE"===o?r:null;n.controller.addItems([{thumbnail:a,url:r,name:i,type:o,id:(new Date).getTime()+"_"+(0,d.UniqueIndex)(),uploading:!1,uploadProgress:1,selected:!0}]),n.setState({showExternalForm:!1,external:{url:"",type:"IMAGE"}})}},n.toggleExternalForm=function(){n.setState({showExternalForm:!n.state.showExternalForm})},n.cancelInsert=function(){n.props.onCancel&&n.props.onCancel()},n.confirmInsert=function(){var e=n.controller.getSelectedItems();if(n.props.onBeforeInsert){var t=n.props.onBeforeInsert(e);t&&t instanceof Array?(n.controller.deselectAllItems(),n.props.onInsert&&n.props.onInsert(t)):!1!==t&&(n.controller.deselectAllItems(),n.props.onInsert&&n.props.onInsert(e))}else n.controller.deselectAllItems(),n.props.onInsert&&n.props.onInsert(e)},n.dragCounter=0,n.controller=n.props.controller;var i=n.controller.getItems();return n.state={draging:!1,error:!1,confirmable:i.find(function(e){return e.selected}),external:{url:"",type:"IMAGE"},fileAccept:"",showExternalForm:!1,allowExternal:!1,items:i},n.changeListenerId=n.controller.onChange(function(e){n.setState({items:e,confirmable:e.find(function(e){return e.selected})}),n.props.onChange&&n.props.onChange(e)}),n}return i(t,e),l(t,[{key:"mapPropsToState",value:function(e){var t=e.accepts,n=e.externals;return{fileAccept:t?[t.image||u.image,t.video||u.video,t.audio||u.audio].join(","):[u.image,u.video,u.audio].join(","),external:{url:"",type:n.image?"IMAGE":n.audio?"AUDIO":n.video?"VIDEO":n.embed?"EMBED":""},allowExternal:n&&(n.image||n.audio||n.video||n.embed)}}},{key:"componentDidMount",value:function(){this.setState(this.mapPropsToState(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.mapPropsToState(e))}},{key:"componentWillUnmount",value:function(){this.controller.offChange(this.changeListenerId)}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.externals,r=this.state,o=r.items,i=r.draging,a=r.confirmable,l=r.fileAccept,s=r.external,d=r.showExternalForm,u=r.allowExternal;return c.default.createElement("div",{className:"braft-finder"},c.default.createElement("div",{onDragEnter:this.handleDragEnter,onDragOver:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDragDrop,className:"bf-uploader"},c.default.createElement("div",{className:"bf-drag-uploader "+(i||!o.length?"active ":" ")+(i?"draging":"")},c.default.createElement("span",{className:"bf-drag-tip"},c.default.createElement("input",{accept:l,onChange:this.reslovePickedFiles,multiple:!0,type:"file"}),i?t.dropTip:t.dragTip)),o.length?c.default.createElement("div",{className:"bf-list-wrap"},c.default.createElement("div",{className:"bf-list-tools"},c.default.createElement("span",{onClick:this.selectAllItems,className:"bf-select-all"},c.default.createElement("i",{className:"braft-icon-done"})," ",t.selectAll),c.default.createElement("span",{onClick:this.deselectAllItems,disabled:!a,className:"bf-deselect-all"},c.default.createElement("i",{className:"braft-icon-close"})," ",t.deselect),c.default.createElement("span",{onClick:this.removeSelectedItems,disabled:!a,className:"bf-remove-selected"},c.default.createElement("i",{className:"braft-icon-bin"})," ",t.removeSelected)),this.buildItemList()):null,d&&u?c.default.createElement("div",{className:"bf-add-external"},c.default.createElement("div",{className:"bf-external-form"},c.default.createElement("div",{className:"bf-external-input"},c.default.createElement("div",null,c.default.createElement("input",{onKeyDown:this.confirmAddExternal,value:s.url,onChange:this.inputExternal,placeholder:t.externalInputPlaceHolder})),c.default.createElement("button",{type:"button",onClick:this.confirmAddExternal,disabled:!s.url.trim().length},t.confirm)),c.default.createElement("div",{"data-type":s.type,className:"bf-switch-external-type"},n.image?c.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"IMAGE"},t.image):null,n.audio?c.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"AUDIO"},t.audio):null,n.video?c.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"VIDEO"},t.video):null,n.embed?c.default.createElement("button",{type:"button",onClick:this.switchExternalType,"data-type":"EMBED"},t.embed):null),c.default.createElement("span",{className:"bf-external-tip"},t.externalInputTip))):null),c.default.createElement("footer",{className:"bf-manager-footer"},c.default.createElement("div",{className:"pull-left"},u?c.default.createElement("span",{onClick:this.toggleExternalForm,className:"bf-toggle-external-form"},d?c.default.createElement("span",{className:"bf-bottom-text"},c.default.createElement("i",{className:"braft-icon-add"})," ",t.addLocalFile):c.default.createElement("span",{className:"bf-bottom-text"},c.default.createElement("i",{className:"braft-icon-add"})," ",t.addExternalSource)):null),c.default.createElement("div",{className:"pull-right"},c.default.createElement("button",{onClick:this.confirmInsert,className:"button button-insert",disabled:!a},t.insert),c.default.createElement("button",{onClick:this.cancelInsert,className:"button button-cancel"},t.cancel))))}},{key:"buildItemList",value:function(){var e=this;return c.default.createElement("ul",{className:"bf-list"},c.default.createElement("li",{className:"bf-add-item"},c.default.createElement("i",{className:"braft-icon-add"}),c.default.createElement("input",{accept:this.state.fileAccept,onChange:this.reslovePickedFiles,multiple:!0,type:"file"})),this.state.items.map(function(t,n){var r=null,o=t.uploading&&!e.props.hideProgress?c.default.createElement("div",{className:"bf-item-uploading"},c.default.createElement("div",{className:"bf-item-uploading-bar",style:{width:t.uploadProgress/1+"%"}})):"";switch(t.type){case"IMAGE":r=c.default.createElement("div",{className:"bf-image"},o,c.default.createElement("img",{src:t.thumbnail||t.url}));break;case"VIDEO":r=c.default.createElement("div",{className:"bf-icon bf-video",title:t.url},o,c.default.createElement("i",{className:"braft-icon-film"}),c.default.createElement("span",null,t.name||t.url));break;case"AUDIO":r=c.default.createElement("div",{className:"bf-icon bf-audio",title:t.url},o,c.default.createElement("i",{className:"braft-icon-music"}),c.default.createElement("span",null,t.name||t.url));break;case"EMBED":r=c.default.createElement("div",{className:"bf-icon bf-embed",title:t.url},o,c.default.createElement("i",{className:"braft-icon-code"}),c.default.createElement("span",null,t.name||e.props.language.embed));break;default:r=c.default.createElement("a",{className:"bf-icon bf-file",title:t.url,href:t.url},o,c.default.createElement("i",{className:"braft-icon-file-text"}),c.default.createElement("span",null,t.name||t.url))}var i=["bf-item"];return t.selected&&i.push("active"),t.uploading&&i.push("uploading"),t.error&&i.push("error"),c.default.createElement("li",{key:n,title:t.name,"data-id":t.id,className:i.join(" "),onClick:e.toggleSelectItem},r,c.default.createElement("span",{"data-id":t.id,onClick:e.removeItem,className:"bf-item-remove braft-icon-close"}),c.default.createElement("span",{className:"bf-item-title"},t.name))}))}}]),t}(c.default.Component);f.defaultProps={accepts:{image:!0,video:!0,audio:!0,embed:!0},externals:{image:!0,video:!0,audio:!0,embed:!0}},t.default=f},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),l=n(0),s=function(){return!0},c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),d.call(this),this.items=t.items||[],this.uploadFn=t.uploader,this.validateFn=t.validator||s,this.changeListeners=[]},d=function(){var e=this;this.setProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.items=t.items||e.items||[],e.uploadFn=t.uploader,e.validateFn=t.validator||s},this.getMediaItem=function(t){return e.items.find(function(e){return e.id===t})},this.getSelectedItems=function(){return e.items.filter(function(e){return e.selected})},this.getItems=function(){return e.items},this.setItems=function(t){e.items=t.map(function(e){return i({},e,{id:e.id.toString()})})||[],e.applyChange(),e.uploadItems()},this.addMediaItem=function(t){e.addItems([t])},this.addItems=function(t){e.items=[].concat(r(e.items),r(t.map(function(e){return i({},e,{id:e.id.toString()})}))),e.applyChange(),e.uploadItems()},this.selectMediaItem=function(t){var n=e.getMediaItem(t);if(n&&(n.uploading||n.error))return!1;e.setMediaItemState(t,{selected:!0})},this.selectAllItems=function(){e.items=e.items.filter(function(e){return!e.error&&!e.uploading}).map(function(e){return i({},e,{selected:!0})}),e.applyChange()},this.deselectMediaItem=function(t){e.setMediaItemState(t,{selected:!1})},this.deselectAllItems=function(){e.items=e.items.map(function(e){return i({},e,{selected:!1})}),e.applyChange()},this.removeMediaItem=function(t){e.items=e.items.filter(function(e){return e.id!==t}),e.applyChange()},this.removeItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.items=e.items.filter(function(e){return!t.includes(e.id)}),e.applyChange()},this.removeSelectedItems=function(){e.items=e.items.filter(function(e){return!e.selected}),e.applyChange()},this.removeErrorItems=function(){e.items=e.items.filter(function(e){return!e.error}),e.applyChange()},this.removeAllItems=function(){e.items=[],e.applyChange()},this.setMediaItemState=function(t,n){e.items=e.items.map(function(e){return e.id===t?i({},e,n):e}),e.applyChange()},this.reuploadErrorItems=function(){e.uploadItems(!0)},this.uploadItems=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.items.forEach(function(n,r){if(n.uploading||n.url)return!1;if(!t&&n.error)return!1;if("IMAGE"===n.type)e.createThumbnail(n),e.uploadFn=e.uploadFn||e.createInlineImage;else if(!e.uploadFn)return e.setMediaItemState(n.id,{error:1}),!1;e.setMediaItemState(n.id,{uploading:!0,uploadProgress:0,error:0}),e.uploadFn({id:n.id,file:n.file,success:function(t){e.handleUploadSuccess(n.id,t)},progress:function(t){e.setMediaItemState(n.id,{uploading:!0,uploadProgress:t})},error:function(t){e.setMediaItemState(n.id,{uploading:!1,error:2})}})})},this.createThumbnail=function(t){var n=t.id,r=t.file;(0,l.compressImage)(URL.createObjectURL(r),226,226).then(function(t){e.setMediaItemState(n,{thumbnail:t.url})})},this.createInlineImage=function(e){(0,l.compressImage)(URL.createObjectURL(e.file),1280,800).then(function(t){e.success({url:t.url})}).catch(function(t){e.error(t)})},this.handleUploadSuccess=function(t,n){e.setMediaItemState(t,i({},n,{file:null,uploadProgress:1,uploading:!1,selected:!1}));var r=e.getMediaItem(n.id||t);r.onReady&&r.onReady(r)},this.applyChange=function(){e.changeListeners.forEach(function(t){return(0,t.callback)(e.items)})},this.uploadImage=function(t,n){var r=(new Date).getTime()+"_"+(0,a.UniqueIndex)();e.addMediaItem({type:"IMAGE",id:r,file:t,name:r,size:t.size,uploadProgress:0,uploading:!1,selected:!1,error:0,onReady:n})},this.uploadImageRecursively=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[r]&&t[r].type.indexOf("image")>-1?e.uploadImage(t[r],function(o){n&&n(o),r<t.length-1&&e.uploadImageRecursively(t,n,r+1)}):r<t.length-1&&e.uploadImageRecursively(t,n,r+1)},this.addResolvedFiles=function(t,n,r){var o={id:(new Date).getTime()+"_"+(0,a.UniqueIndex)(),file:t.files[n],name:t.files[n].name,size:t.files[n].size,uploadProgress:0,uploading:!1,selected:!1,error:0,onReady:function(e){t.onItemReady&&t.onItemReady(e)}};0===t.files[n].type.indexOf("image/")&&r.image?(o.type="IMAGE",e.addMediaItem(o)):0===t.files[n].type.indexOf("video/")&&r.video?(o.type="VIDEO",e.addMediaItem(o)):0===t.files[n].type.indexOf("audio/")&&r.audio&&(o.type="AUDIO",e.addMediaItem(o)),setTimeout(function(){e.resolveFiles(t,n+1,r)},60)},this.resolveFiles=function(t,n,r){if(n<t.files.length){var o=e.validateFn(t.files[n]);o instanceof Promise?o.then(function(){e.addResolvedFiles(t,n,r)}):o&&e.addResolvedFiles(t,n,r)}else t.onAllReady&&t.onAllReady()},this.onChange=function(t){var n=(0,a.UniqueIndex)();return e.changeListeners.push({id:n,callback:t}),n},this.offChange=function(t){e.changeListeners=e.changeListeners.filter(function(e){return e.id!==t})}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageUtils=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),c=r(s),d=n(16),u=r(d),f=n(15),p=r(f),m=n(7),g=r(m),h=n(0),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v.call(n),n.superProps=e,n}return a(t,e),t}(u.default),v=function(){var e=this;this.ReactComponent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=l({},e.superProps,t),r=("function"==typeof n.language?n.language(g.default):g.default[n.language])||g.default.zh;return c.default.createElement(p.default,l({},n,{language:r,controller:e}))}};t.default=b,t.ImageUtils=y}])})},2074:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),a=r(i),l=n(12),s=r(l),c=n(8),d=r(c),u=n(11),f=n(23),p=r(f),m=n(26),g=r(m),h=n(13),y=u.Form.Item,b=(u.Select.Option,n(2029)),v=(n(2026),n(15)),A=n(14),E=n(2027),S=n(2025),k=a.default.createClass({displayName:"ADManageOnlinePage",getInitialState:function(){return{loading:!1,modal:!1,validRules:[],adManage:{upTime:"",downTime:""},hints:{}}},mixins:[h.listenTo(E,"onServiceComplete"),(0,g.default)("adManage")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,adManage:e}))},beforeClose:function(){this.initValidRules(),this.state.modal&&this.formList&&(s.default.findDOMNode(this.formList).scrollTop=0)},componentDidMount:function(){this.initValidRules(),this.clear()},initPage:function(e){this.state.adManage=A.deepCopyValue(e),this.clear()},initValidRules:function(){"axlMessCenter"!=this.props.typeType&&(this.state.validRules=[{id:"downTime",desc:"下线时间",required:!0}])},clear:function(){this.state.hints={},this.state.adManage.downTime="",this.state.loading=!1,this.state.modal||void 0===this.refs.mxgBox||this.refs.mxgBox.clear()},disabledDate:function(e){return e&&e<(0,d.default)().endOf("day")},disabledDateTime:function(){var e=this;return{disabledHours:function(){return e.range(0,23)},disabledMinutes:function(){return e.range(0,59)},disabledSeconds:function(){return e.range(0,59)}}},range:function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},handleOnSelTimeChange:function(e,t){this.state.adManage.downTime=t,this.setState({loading:!1})},onClickSave:function(){this.setState({loading:!0}),this.state.adManage.upTime=b.getNowFormatDate(),this.state.adManage.state="已上线",this.state.adManage.stateID="1";var e=this.props.actionType1,t=this.props.typeType;if(this.initValidRules(),"axlMessCenter"==t){var n=this.state.adManage;"create"===e?S.create(n):"edit"===e&&S.update(n,"edit")}else if(v.formValidator(this,this.state.adManage)){var r=this.state.adManage;"create"===e?S.create(r):"edit"===e&&S.update(r,"edit")}},render:function(){var e=this,t=this.state.hints,n={labelCol:{span:4},wrapperCol:{span:16}},r=""===this.state.adManage.downTime||void 0==this.state.adManage.downTime?void 0:(0,d.default)(this.state.adManage.downTime,"YYYY-MM-DD HH:mm:ss");return a.default.createElement(u.Modal,{bodyStyle:{height:200,overflow:"auto"},visible:this.state.modal,width:"540px",title:"上线",className:"organization-class",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[a.default.createElement("div",{key:"footerDiv",className:"organization-alert",style:{display:"block",textAlign:"right"}},a.default.createElement(p.default,{ref:"mxgBox",svcList:["role/create"]}),a.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave.bind(this,this.props.actionType1),loading:this.state.loading},"确定"),a.default.createElement(u.Button,{key:"btnClose",size:"large",onClick:this.toggle,loading:this.state.loading},"取消"))]},"axlMessCenter"==this.props.typeType?a.default.createElement("div",{style:{fontSize:"14px"}},"是否确认上线"):a.default.createElement(u.Form,{ref:function(t){return e.formList=t},layout:"horizontal",style:{padding:16}},a.default.createElement(y,o({},n,{label:"下线时间",required:!0,colon:!0,help:t.downTimeHint,validateStatus:t.downTimeStatus}),a.default.createElement(u.DatePicker,{name:"downTime",id:"downTime",style:{width:"100%"},placeholder:"请选择下线时间",showToday:!1,value:r,disabledDate:this.disabledDate,disabledTime:this.disabledDateTime,onChange:this.handleOnSelTimeChange,format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:(0,d.default)("23:59:59","HH:mm:ss")}}))))}});t.default=k},2075:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(0),i=r(o),a=n(11),l=n(26),s=r(l),c=n(2035),d=r(c),u=n(13),f=(a.Form.Item,n(15),n(14)),p=n(2027),m=n(2025),g=n(2026),h=i.default.createClass({displayName:"Filter",getInitialState:function(){return{filter:{typeID:"",type:"",stateID:"",state:""},typeSet:[],stateSet:[]}},mixins:[u.listenTo(p,"onServiceComplete"),(0,s.default)("filter",!0)],componentDidMount:function(){this.clear()},componentWillMount:function(){m.getSelectOptions({})},onServiceComplete:function(e){var t=this;if(this.setState({loading:!1}),!e.errMsg&&"query_tab"===e.operation){var n=e.recordSet||[],r=[];n.map(function(e){e.typeList&&r.push(e.typeList[0])});var o=r||[],i=n[0].stateList?n[0].stateList:[];o.map(function(e){e.id=e.typeID,e.name=e.type}),i.map(function(e){e.id=e.stateID,e.name=e.state}),this.setState({typeSet:o,stateSet:i},function(){t.typeSelect&&t.typeSelect.showOptions(o),t.stateSelect&&t.stateSelect.showOptions(i)})}},getFilter:function(){return this.state.filter},clear:function(){this.setState({loading:!1,filter:{typeID:"",type:"",stateID:"",state:""}})},onSelected:function(e,t){var n=this.state.typeSet,r=this.state.stateSet,o={id:"",name:""},i=f.deepCopyValue(this.state.filter);t&&("type"===e?o=n.find(function(e){return e.id===t}):"state"===e&&(o=r.find(function(e){return e.id===t}))),"type"===e?i.typeID=o.id:"state"===e&&(i.stateID=o.id),this.setState({filter:i})},render:function(){var e=this,t=[{name:"type",id:"type",key:"typeSelect",object:i.default.createElement(d.default,{name:"type",id:"type",value:this.state.filter.typeID,onSelect:this.onSelected.bind(this,"type"),opts:this.state.typeSet,ref:function(t){return e.typeSelect=t}})},{name:"state",id:"state",key:"stateSelect",object:i.default.createElement(d.default,{name:"state",id:"state",value:this.state.filter.stateID,onSelect:this.onSelected.bind(this,"state"),opts:this.state.stateSet,ref:function(t){return e.stateSelect=t}})}],n=g.getFilterForm(this,this.state.filter,t);return i.default.createElement("div",{className:"filter-wrap"},i.default.createElement(a.Form,{layout:"horizontal"},n))}});e.exports=h}});